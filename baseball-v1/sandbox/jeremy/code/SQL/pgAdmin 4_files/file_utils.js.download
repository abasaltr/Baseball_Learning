/*! For license information please see file_utils.js.LICENSE.txt */
define(["translations","pgadmin.browser.endpoints"],(function(e,t){return function(e){function t(t){for(var i,o,s=t[0],l=t[1],d=t[2],u=0,f=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(c&&c(t);f.length;)f.shift()();return n.push.apply(n,d||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],i=!0,s=1;s<r.length;s++){var l=r[s];0!==a[l]&&(i=!1)}i&&(n.splice(t--,1),e=o(o.s=r[0]))}return e}var i={},a={8:0},n=[];function o(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=i,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(r,i,function(t){return e[t]}.bind(null,i));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",Object.defineProperty(o,"p",{get:function(){try{if("function"!=typeof getChunkURL)throw new Error("WebpackRequireFrom: 'getChunkURL' is not a function or not available at runtime. See https://github.com/agoldis/webpack-require-from#troubleshooting");return getChunkURL()}catch(e){return""}}});var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var c=l;return n.push([501,1,2,0]),r()}({2:function(e,t,r){"use strict";var i,a;r(22),r(33),r(5),r(29),i=[r(96)],void 0===(a=function(e){return function(t){var r=e[t]?e[t]:t;if(1==arguments.length)return r;try{var i=arguments;return r.split("%s").map((function(e,t){return t>0?t<i.length?[i[t],e].join(""):["%s",e].join(""):e})).join("")}catch(e){return console.error(e),r}}}.apply(t,i))||(e.exports=a)},21:function(e,t,r){"use strict";r(8),r(14),r(22),r(33),r(28),r(4),r(35),r(5),r(122),r(9),r(58),r(29),r(7),Object.defineProperty(t,"__esModule",{value:!0}),t.parseShortcutValue=function(e){var t="";e.alt&&(t+="alt+");e.shift&&(t+="shift+");e.control&&(t+="ctrl+");return t+=e.key.char.toLowerCase()},t.handleKeyNavigation=function(e){var t=(0,n.default)(e.currentTarget).find(".wizard-header"),r=(0,n.default)(e.currentTarget).find(".wizard-footer"),i=(0,n.default)(e.currentTarget).find(".select-row-cell:first"),a=(0,n.default)(e.currentTarget).find(".select-row-cell:last"),o=(0,n.default)(t).find("button:enabled:first"),s=(0,n.default)(t).find("button:enabled:last"),l=(0,n.default)(r).find("button:enabled:last"),d=(0,n.default)(r).find("button:enabled:first");e.shiftKey&&9===e.keyCode?o&&(0,n.default)(o).is((0,n.default)(e.target))?l&&((0,n.default)(l).focus(),e.preventDefault(),e.stopPropagation()):(0,n.default)(d).is((0,n.default)(e.target))&&((0,n.default)(i).find(".custom-control-input").is(":visible")?((0,n.default)(a).find(".custom-control-input").focus(),e.preventDefault(),e.stopPropagation()):(0,n.default)(e.currentTarget).find(".wizard-content").find(".CodeMirror-scroll").is(":visible")&&(0,n.default)(s).focus()):9===e.keyCode?l&&(0,n.default)(l).is((0,n.default)(e.target))?((0,n.default)(o).focus(),e.preventDefault(),e.stopPropagation()):"Name"==e.target.innerText?((0,n.default)(i).find(".custom-control-input").is(":visible")?(0,n.default)(i).find(".custom-control-input").focus():(0,n.default)(d).focus(),e.preventDefault(),e.stopPropagation()):"DIV"==e.target.tagName?((0,n.default)(e.currentTarget).find(".custom-control-input:first").trigger("focus"),e.preventDefault(),e.stopPropagation()):"TEXTAREA"==e.target.tagName&&(0,n.default)(d).focus():27===e.keyCode&&(0,n.default)(t).find("button.ajs-close").click()},t.findAndSetFocus=function(e){if(0==e.length)return;setTimeout((function(){var t=e.find("button.fa-plus:first");0==t.length&&(t=e.find("\n          .pgadmin-controls:first .btn:not(.toggle),\n          .pgadmin-controls:first,\n          .ajs-commands:first,\n          .CodeMirror-scroll,\n          .pgadmin-wizard").find('*[tabindex]:not([tabindex="-1"]),input:enabled')),t.length>0?t[0].focus():e[0].focus()}),200)},t.getEpoch=function(e){var t=e||new Date;return parseInt(t.getTime()/1e3)},t.getGCD=function(e){var t=function e(t,r){return 0==t?r:e(r%t,t)},r=e.length;if(r<=2)return t(e[0],e[1]);for(var i=e[0],a=1;a<r;a++)i=t(e[a],i);return i},t.getMod=function(e,t){return(e%t+t)%t},t.parseFuncParams=function(e){var t=[],r="",i="";if(e.endsWith("()"))r=e.substring(0,e.length-2);else if(e.endsWith(")")){if(!e.endsWith("()")&&e.endsWith(")")){var a=0,n=e.length;for(a=e.length-2;a>=0;){if("("==e[a]){n=a;break}if('"'==e[a])for(a--;'"'!=e[a];)a--;a--}r=e.substring(0,n),i=e.substring(n+1,e.length-1);var o=0,s="",l=["IN","OUT","INOUT","VARIADIC"];for(a=0;a<i.length;){if('"'==i[a])for(a++;'"'!=i[a];)a++;else" "==i[a]?(""==s||l.indexOf(s)>-1)&&(s=i.substring(o,a),o=a+1):","==i[a]&&(t.push([s,i.substring(o,a)]),s="",o=a+1);a++}t.push([s,i.substring(o)])}}else r=e;return{func_name:r,param_string:i,params:t}},t.quote_ident=s,t.fully_qualify=function(e,t,r){var i=a.getTreeNodeHierarchyFromIdentifier.call(e,r),n="";void 0!==i.schema?n=s(i.schema._label):void 0!==i.view?n=s(i.view._label):void 0!==i.catalog&&(n=s(i.catalog._label));void 0!==i.package&&"package"!=t._type&&(""==n?n=s(i.package._label):n+="."+s(i.package._label));return""!=n?n+"."+s(t._label):s(t._label)},t.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},t.titleize=function(e){return""===e||null===e?e:e.split(" ").map((function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()})).join(" ")},t.sprintf=function(e){try{var t=arguments;return e.split("%s").map((function(e,r){return r>0?r<t.length?[t[r],e].join(""):["%s",e].join(""):e})).join("")}catch(t){return console.error(t),e}},t.isString=t.isFunction=t.isValidData=void 0;var i=o(r(1)),a=r(49),n=o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}t.isValidData=function(e){return!i.default.isUndefined(e)&&!i.default.isNull(e)};t.isFunction=function(e){return i.default.isFunction(e)};function s(e){var t=!1;return isNaN(parseInt(e))||(t=!0),e.search(/[^a-z0-9_]/g)>-1&&(e=e.replace(/"/g,'""'),t=!0),t?'"'.concat(e,'"'):e}t.isString=function(e){return i.default.isString(e)}},3:function(e,t,r){"use strict";(function(i){var a;function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r(19),r(24),r(25),r(17),r(44),r(28),r(12),r(68),r(35),r(5),r(38),r(23),r(61),r(9),r(29),r(20),void 0===(a=function(){var e=window.pgAdmin=window.pgAdmin||{};function t(e,t,r){return void 0===r||0==+r?Math[e](t):(t=+t,r=+r,isNaN(t)||r%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-r:-r)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+r:r))))}return function(e,t,r){function i(t,r,i,n){i=i||"width";var o,l,d,f=(r.match(c)||[])[2],p="px"===f?1:u[f+"toPx"];if(p||/r?em/i.test(f)&&!n)t=p?t:"rem"===f?s:"fontSize"===i&&+e.parentNode||t,p=p||parseFloat(a(t,"fontSize")),d=parseFloat(r)*p;else{l=(o=t.style)[i];try{o[i]=r}catch(e){return 0}d=o[i]?parseFloat(a(t,i)):0,o[i]=void 0!==l?l:null}return d}function a(e,t){var r,o,s,l,u,f=["paddingTop","paddingBottom","borderTop","borderBottom"],p=4;if(o=e.style["pixel"+t.charAt(0).toUpperCase()+t.slice(1)],"%"===(s=((r=d?d(e)[t]:o?o+"px":"fontSize"===t?i(e,"1em","left",1)+"px":e.currentStyle[t]).match(c)||[])[2])&&n)if(/^top|bottom/.test(t)){for(l=(u=e.parentNode||e).offsetHeight;p--;)l-=parseFloat(a(u,f[p]));r=parseFloat(r)/100*l+"px"}else r=i(e,r);else("auto"===r||s&&"px"!==s)&&d?r=0:s&&"px"!==s&&!d&&(r=i(e,r)+"px");return r}var n,o=t.createElement("test"),s=t.documentElement,l=t.defaultView,d=l&&l.getComputedStyle,c=/^(-?[\d+\.\-]+)([a-z]+|%)$/i,u={},f=[1/25.4,1/2.54,1/72,1/6],p=["mm","cm","pt","pc","in","mozmm"],h=6;for(s.appendChild(o),d&&(o.style.marginTop="1%",n="1%"===d(o).marginTop);h--;)u[p[h]+"toPx"]=f[h]?f[h]*u.inToPx:i(o,"1"+p[h]);s.removeChild(o),e.toPx=i}(e,window.document),e.natural_sort=function(e,t,r){r=r||{};var i,a,o=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,s=/(^[ ]*|[ ]*$)/g,l=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,d=/^0x[0-9a-f]+$/i,c=/^0/,u=function(e){return r.insensitive&&(""+e).toLowerCase()||""+e},f=u(e).replace(s,"")||"",p=u(t).replace(s,"")||"",h=f.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),g=p.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(f.match(d))||1!==h.length&&f.match(l)&&Date.parse(f),v=parseInt(p.match(d))||m&&p.match(l)&&Date.parse(p)||null,b=r.desc?-1:1;if(v){if(m<v)return-1*b;if(m>v)return 1*b}for(var y=0,_=Math.max(h.length,g.length);y<_;y++){if(i=!(h[y]||"").match(c)&&parseFloat(h[y])||h[y]||0,a=!(g[y]||"").match(c)&&parseFloat(g[y])||g[y]||0,isNaN(i)!==isNaN(a))return(isNaN(i)?1:-1)*b;if(n(i)!==n(a)&&(i+="",a+=""),i<a)return-1*b;if(i>a)return 1*b}return 0},e.numeric_comparator=function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:e==t?0:1},Math.round10||(Math.round10=function(e,r){return t("round",e,r)}),Math.floor10||(Math.floor10=function(e,r){return t("floor",e,r)}),Math.ceil10||(Math.ceil10=function(e,r){return t("ceil",e,r)}),e}.apply(t,[]))||(e.exports=a)}).call(this,r(3))},49:function(e,t,r){"use strict";(function(e){function i(t){var r=0,i=0,n={};do{var o=t.getData();if(o._type in this.Nodes&&this.Nodes[o._type].hasId){var s=a(o._type,i);void 0===n[s]&&(n[s]=e.extend({},o,{priority:r}),r-=1)}i+=1,t=t.hasParent()?t.parent():null}while(t);return n}function a(e,t){return"partition"===e&&t>0?"table":e}r(4),Object.defineProperty(t,"__esModule",{value:!0}),t.getTreeNodeHierarchyFromElement=function(e,t){return i.call(e,t)},t.getTreeNodeHierarchyFromIdentifier=function(e){var t=this.treeMenu.translateTreeNodeIdFromACITree(e),r=this.treeMenu.findNode(t);return null===r?null:i.call(this,r)},t.getTreeNodeHierarchy=i}).call(this,r(1))},501:function(e,t,r){"use strict";var i,a;r(30),r(8),r(14),r(22),r(113),r(33),r(502),r(44),r(86),r(195),r(28),r(10),r(41),r(5),r(122),r(9),r(29),r(78),r(7),i=[r(0),r(1),r(13),r(2),r(6),r(503),r(3),r(87),r(504),r(505)],void 0===(a=function(e,t,r,i,a,n,o,s){s.setPGCSRFToken(o.csrf_token_header,o.csrf_token);var l=function(e){var t=e.lastIndexOf(".")+1;return t>0?e.substr(t):""},d=function(t){return e.ajax({async:!1,cache:!1,url:t,dataType:"json",contentType:"application/json; charset=utf-8"})},c=function(t){"grid"==t?(e(".grid").addClass("ON"),e(".list").removeClass("ON")):(e(".list").addClass("ON"),e(".grid").removeClass("ON"))},u=function(t,r){return e.ajax({url:a("file_manager.save_file_dialog_view",{trans_id:r}),type:"POST",async:!0,data:JSON.stringify({view:t}),contentType:"application/json"})},f=function(t,r){return void 0===t.Capabilities||e.inArray(r,t.Capabilities)>-1},p=function(r){t.has(r,"Capabilities")&&t.each(r.Capabilities,(function(t){var i="button."+t,a=e(".file_manager").find(i);!f(r,t)||o.FileUtils.hideButtons()?a.hide():a.show()})),!f(r,"delete")||o.FileUtils.hideButtons()?e(".file_manager").find("button.delete").hide():(e(".file_manager").find("button.delete").on("click",(function(){e(".fileinfo .delete_item, .fm_dimmer").show()})),e(".fileinfo .delete_item button.btn_yes").off().on("click",(function(){var t;"grid"==e(".fileinfo").data("view")?(t=decodeURI(e(".fileinfo").find("#contents li.selected .clip span").attr("data-alt"))).lastIndexOf("/")==t.length-1?(r.Path=t,m(r)):m(r):(t=e(".fileinfo").find("table#contents tbody tr.selected td:first-child").attr("title")).lastIndexOf("/")==t.length-1?(r.Path=t,m(r)):m(r),e(".fileinfo .fm_dimmer").hide()}))),!f(r,"download")||o.FileUtils.hideButtons()?e(".file_manager").find("button.download").hide():e(".file_manager").find("button.download").off().on("click",(function(){var t;"grid"==e(".fileinfo").data("view")?(t=e(".fileinfo li.selected").find(".clip span").attr("data-alt"),window.open(o.FileUtils.fileConnector+"?_="+Date.now()+"mode=download&path="+t,"_blank")):(t=e(".fileinfo").find("table#contents tbody tr.selected td:first-child").attr("title"),window.open(o.FileUtils.fileConnector+"?_="+Date.now()+"mode=download&path="+t,"_blank"))}))},h=function(){if("grid"==e(".fileinfo").data("view")){var t=e(".file_manager").find("#contents li.selected");t.removeClass("selected"),e(".file_manager").find("button.delete").prop("disabled",!0),e(".file_manager").find("button.download").prop("disabled",!0),e(".file_manager").find("button.rename").prop("disabled",!0),t.length>0&&(e(".file_manager_ok").addClass("disabled"),e(".file_manager_ok").attr("disabled",!0))}else{var r=e(".fileinfo").find("table#contents tbody tr.selected");r.removeClass("selected"),e(".file_manager").find("button.delete").prop("disabled",!0),e(".file_manager").find("button.download").prop("disabled",!0),e(".file_manager").find("button.rename").prop("disabled",!0),r.length>0&&(e(".file_manager_ok").addClass("disabled"),e(".file_manager_ok").attr("disabled",!0))}e(".delete_item").hide(),e(".file_manager #uploader .input-path").show(),e(".file_manager #uploader .show_selected_file").remove()},g=function(t){var i="",a=o.FileUtils.lg;return function(n){if(""!==n){var s=(f="",-1!=(u=n).lastIndexOf(".")?(f=u.substr(0,u.lastIndexOf(".")),f+="."+u.split(".").pop()):f=u,f),l=function(e){return 1==e.split(".").length?"":e.split(".").pop()}(t.Filename);l.length>0&&(s=s+"."+l);var d=t.Path,c={mode:"rename",old:t.Path,new:s};e.ajax({type:"POST",data:JSON.stringify(c),url:o.FileUtils.fileConnector,dataType:"json",contentType:"application/json; charset=utf-8",async:!1}).done((function(n){var o=n.data.result;if(1===o.Code){var s=o["New Path"],l=o["New Name"],c=e("#preview h1").attr("title");void 0!==c&&c==d&&e("#preview h1").text(l),"grid"==e(".fileinfo").data("view")?(e('.fileinfo span[data-alt="'+d+'"]').parent().next("div span").text(l),e('.fileinfo span[data-alt="'+d+'"]').attr("data-alt",s)):(e('.fileinfo td[title="'+d+'"]').text(l),e('.fileinfo td[title="'+d+'"]').attr("title",s)),e("#preview h1").html(l),t.Path=s,t.Filename=l,e(".fileinfo").find("button.rename, button.delete, button.download").off(),r.success(a.successful_rename)}else r.error(o.Error);i=o["New Name"]}))}var u,f}(t.NewFilename),i},m=function(t){var i,a=!1,n=o.FileUtils.lg;return i={mode:"delete",path:t.Path},e.ajax({type:"POST",data:JSON.stringify(i),url:o.FileUtils.fileConnector,dataType:"json",contentType:"application/json; charset=utf-8",async:!1}).done((function(e){var t=e.data.result;if(1===t.Code){if(a=!0){r.success(n.successful_delete);var i=t.Path.substring(0,t.Path.length-1);i=i.substr(0,i.lastIndexOf("/")+1),y(i)}}else a=!1,r.error(t.Error)})),a},v=function(t){o.FileUtils.setUploader(t);var i=o.FileUtils.data.capabilities,a=!1,n={path:t,mode:"getinfo"};return e.ajax({type:"POST",data:JSON.stringify(n),url:o.FileUtils.fileConnector,dataType:"json",contentType:"application/json; charset=utf-8",async:!1}).done((function(n){var o=n.data.result;1===o.Code?(e(".file_manager_ok").removeClass("disabled"),e(".file_manager_ok").attr("disabled",!1),o.Capabilities=i,p(o),"Directory"==o.FileType?(w(),e(".file_manager_ok").addClass("disabled"),e(".file_manager_ok").attr("disabled",!0),e(".file_manager button.delete, .file_manager button.rename").attr("disabled","disabled"),e(".file_manager button.download").attr("disabled","disabled"),"/"!=t.charAt(t.length-1)&&"\\"!=t.charAt(t.length-1)&&(t+="/"),y(t)):a=!0):(e(".file_manager_ok").addClass("disabled"),e(".file_manager_ok").attr("disabled",!0),r.error(o.Error))})),a},b=function(e){var t=o.FileUtils.lg;return e.Capabilities=["upload","create"],p(e),'<div class="no_folder_found">'.concat(t.could_not_retrieve_folder,"</div>")},y=function n(s,d,c){e(".storage_dialog #uploader .input-path").prop("disabled",!0),d||(d="");var u=o.FileUtils.data.Capabilities;o.FileUtils.setUploader(s),c&&e(".storage_dialog #uploader .input-path").val(s+c),""===d&&(d=e(".change_file_types select").val()),e(".file_manager a.breadcrumbs").off().on("click",(function(){var t=e(this).attr("data-path"),r=e(this).html(),i=t.substring(0,t.lastIndexOf(r))+r;n(i),w()})),o.FileUtils.hideButtons()?e(".allowed_file_types .change_file_types").hide():e(".allowed_file_types .change_file_types").show();var h=a("static",{filename:"js/generated/load-root.gif"});e(".fileinfo").find("span.activity").html('<img src="'+h+'" alt="'+i("Loading...")+"/>");var m={path:s,mode:"getfolder",file_type:d||"*",show_hidden:e("#show_hidden").prop("checked")};e.ajax({type:"POST",data:JSON.stringify(m),url:o.FileUtils.fileConnector,dataType:"json",contentType:"application/json; charset=utf-8",async:!1}).done((function(i){e(".storage_dialog #uploader .input-path").prop("disabled",!1);var a="",s=i.data.result,d=!1;if(e(".fileinfo").find("span.activity").hide(),0!==s.Code){var c,h,m;"grid"==e(".fileinfo").data("view")?(a+=function(e,r){var i='<ul id="contents" class="grid">',a=t.isEmpty(e);return a||(i+=Object.keys(e).sort((function(e,t){return o.natural_sort(e.toLowerCase(),t.toLowerCase())})).map((function(i){var a,n=e[i],o=n.Properties,s=t.escape(n.Filename),l="";a=Object.keys(r).map((function(e){if(f(n,r[e]))return"cap_"+r[e]})).join(" "),n.Capabilities=r,p(n),l="dir"==n.file_type?"fa fa-folder-open fm_folder_grid":"drive"==n.file_type?"fa fa-hdd-o fm_drive":"fa fa-file-text-o fm_file_grid";var d='<li class="'.concat(a,'" tabindex="0">\n            <div class="clip">\n            <span data-alt="').concat(t.escape(n.Path),'" class="').concat(l,'"></span>');return 1==n.Protected&&(d+='<span class="fa fa-lock fm_lock_icon" data-protected="protected" role="img"></span>'),d+="</div>",f(n,"rename")?d+='<div>\n              <input type="text" class="fm_file_rename" />\n              <span class="less_text" title="'.concat(s,'">').concat(s,"</span>\n            </div>"):d+="<span>".concat(s,"</span>"),o.Width&&""!=o.Width&&(d+='<span class="meta dimensions">'.concat(o.Width,"x").concat(o.Height,"</span>")),o.Size&&""!=o.Size&&(d+='<span class="meta size">'.concat(o.Size,"</span>")),o["Date Created"]&&""!=o["Date Created"]&&(d+='<span class="meta created">'.concat(o["Date Created"],"</span>")),o["Date Modified"]&&""!=o["Date Modified"]&&(d+='<span class="meta modified">'.concat(o["Date Modified"],"</span>")),d+="</li>"})).join("\n")),i+="</ul>",a&&(i+=b(e)),i}(s,u),d=!0):a+=function(e,r){var i=o.FileUtils.lg,a=t.isEmpty(e),n='<table id="contents" class="table table-bordered table-noouter-border table-bottom-border table-right-border table-hover tablesorter file_listing_table '.concat(a?"file_listing_table_no_data":"",'">\n        <thead>\n          <tr>\n            <th tabindex="0">\n              <span>').concat(i.name,'</span>\n            </th>\n            <th class="sorter-metric" data-metric-name-full="byte|Byte|BYTE" data-metric-name-abbr="b|B">\n              <span>').concat(i.size,'</span>\n            </th>\n            <th class="sorter-shortDate">\n              <span>').concat(i.modified,"</span>\n            </th>\n          </tr>\n        </thead>\n        <tbody>");return a||(n+=Object.keys(e).sort((function(e,t){return o.natural_sort(e.toLowerCase(),t.toLowerCase())})).map((function(i){var a,n=e[i],o=n.Properties,s="",l="";a=Object.keys(r).map((function(e){if(f(n,r[e]))return"cap_"+r[e]})).join(" "),n.Capabilities=r,p(n),"dir"==n.file_type?(l="tbl_folder",s="fa fa-folder-open fm_folder_list"):"drive"==n.file_type?(l="tbl_drive",s="fa fa-hdd-o"):(l="tbl_file",s="fa fa-file-text-o");var d='<tr class="'.concat(a,'" tabindex="0">\n            <td title="').concat(t.escape(n.Path),'" class="').concat(l,'">'),c="";return 1==n.Protected&&(c='<i class="fa fa-lock tbl_lock_icon" data-protected="protected" role="img"></i>'),f(e[i],"rename")?d+='<div>\n              <input type="text" class="fm_file_rename"/>\n              <div class="fm_file_name">\n                <div class="d-flex">\n                  <span class="fm_file_list '.concat(s,'"></span>\n                  ').concat(c,'\n                  <span class="less_text ml-2" title="').concat(n.Filename,'">').concat(t.escape(n.Filename),"</span>\n                </div>\n              <div>\n            </div>"):d+="".concat(c,';\n            <span title="').concat(n.Filename,'">').concat(t.escape(n.Filename),"</span>"),d+="</td>",o.Size&&""!=o.Size?d+='<td><span class="less_text" title="'.concat(o.Size,'">').concat(o.Size,"</span></td>"):d+="<td></td>",o["Date Modified"]&&""!=o["Date Modified"]?d+="<td>".concat(o["Date Modified"],"</td>"):d+="<td></td>",d+="</tr>"})).join("\n")),n+="</tbody>\n      </table>",a&&(n+=b(e)),n}(s,u),e(".fileinfo .file_listing").html(a);var y=e(".fileinfo .file_listing .file_listing_table");y.tablesorter({widgets:["resizable","stickyHeaders"],widgetOptions:{stickyHeaders_attachTo:".file_listing",stickyHeaders_offset:0,resizable_widths:["400px","100px","175px"]}}),y.on("resizableComplete",(function(){var t=this.config.widgetOptions;e.tablesorter.resizable.setWidth(y.find('th[data-column="2"]'),t.resizable_widths[2])}));var _=function(t){var r=this;t.preventDefault(),t.stopPropagation(),e(this).find(".fa-lock").length||(e(this).find(".fa-file-text-o").length?e(this).click():(e(this).find(".fa-folder-open").length||e(this).find(".fa-hdd-o").length)&&(e(this).click(),setTimeout((function(){e(r).trigger("dblclick")}),10)))};y.on("tablesorter-ready",(function(){var t=this.config.widgetOptions;""===e.tablesorter.storage(y[0],"tablesorter-table-resized-width")&&e.tablesorter.resizable.setWidth(y,e(".fileinfo .file_listing").width()),e.tablesorter.resizable.setWidth(y.find('th[data-column="2"]'),t.resizable_widths[2]),y.trigger("resizableUpdate"),e("#show_hidden").off("keydown").on("keydown",(function(e){!d&&9==e.keyCode&&e.shiftKey&&(e.preventDefault(),y.find("tbody tr:last").trigger("focus"))})),y.find("tbody tr").off("keydown").on("keydown",(function(t){13==t.keyCode||32==t.keyCode?_.call(this,t):9==t.keyCode&&(t.shiftKey?0==e(this).prev().length&&(t.preventDefault(),y.find("th.tablesorter-header:last").trigger("focus")):0==e(this).next().length&&(t.preventDefault(),e("#show_hidden").trigger("focus")))})),y.find("th.tablesorter-header").off("keydown").on("keydown",(function(t){13!=t.keyCode&&32!=t.keyCode||(t.preventDefault(),t.stopPropagation(),e(this).trigger("click"))}))})),d&&e(".file_manager").find("#contents li").off("keydown").on("keydown",(function(e){13!=e.keyCode&&32!=e.keyCode||_.call(this,e)})),e(".file_manager button.rename").off().on("click",(function(t){"grid"==e(".fileinfo").data("view")?(t.stopPropagation(),c=e(".file_manager").find("#contents li.selected div"),h=decodeURI(c.find("span.less_text").attr("title")),""===(m=h.substring(0,h.indexOf(".")))&&(m=decodeURI(h)),c.find("input").toggle().val(m).trigger("focus"),c.find("span").toggle(),e(".file_manager").off().on("keyup",(function(t){13==t.keyCode&&(t.stopPropagation(),e(".fileinfo #contents li.selected div").find("input").trigger("blur"))}))):"list"==e(".fileinfo").data("view")&&(t.stopPropagation(),c=e(".fileinfo").find("table#contents tbody tr.selected td.tbl_file"),h=decodeURI(c.find("span.less_text").html()),m=h.substring(0,h.lastIndexOf(".")),h.lastIndexOf("/")!=h.length-1&&""!==m||(m=decodeURI(h)),c.find(".fm_file_rename").toggle().val(m).trigger("focus"),c.find(".fm_file_name").toggle(),e(".file_manager").off().on("keyup",(function(t){13==t.keyCode&&(t.stopPropagation(),e(".fileinfo table#contents tr.selected td.tbl_file").find("fm_file_rename").trigger("blur"))})))})),e(".fileinfo #contents li div").on("blur dblclick","input",(function(t){t.stopPropagation();var r=decodeURI(e(this).siblings("span").attr("title"));m=r.substring(0,r.indexOf("."));var i,a,o,s=l(r);if(0==r.indexOf(".")&&(s=""),""==m&&(m=decodeURI(r)),"keydown"==t.type){if(13==t.which){if(o=decodeURI(e(this).val())+(""!==s?"."+s:""),e(this).toggle(),e(this).siblings("span").toggle().html(o),a=decodeURI(e(this).val()),i={Filename:r,Path:decodeURI(e(this).parent().parent().find("span").attr("data-alt")),NewFilename:a},m!==a){g(i);var d=e(".currentpath").val();n(d)}t.stopPropagation()}38!=t.which&&40!=t.which&&37!=t.which&&39!=t.which&&32!=t.keyCode||t.stopPropagation()}else"focusout"==t.type?"inline-block"!=e(this).css("display")&&"inline"!=e(this).css("display")||(o=decodeURI(e(this).val())+(""!==s?"."+s:""),e(this).toggle(),e(this).siblings("span").toggle().html(o),a=decodeURI(e(this).val()),i={Filename:r,Path:decodeURI(e(this).parent().parent().find("span").attr("data-alt")),NewFilename:a},m!==a&&(g(i),n(e(".currentpath").val()))):t.stopPropagation()})),e(".fileinfo table#contents tr td div").on("blur dblclick","input",(function(t){var r=decodeURI(e(this).siblings("span").attr("title")),i=r.substring(0,r.indexOf(".")),a=l(r);if(0==r.indexOf(".")&&(a=""),""==i&&(i=r),"focusout"==t.type){if("inline-block"==e(this).css("display")||"inline"==e(this).css("display")){var o=decodeURI(e(this).val())+(""!==a?"."+a:"");e(this).toggle(),e(this).siblings("span").toggle().html(o);var s=decodeURI(e(this).val()),d=decodeURI(e(this).parent().parent().attr("title"));if(i!==s){g({Filename:r,Path:d,NewFilename:s});var c=d.split("/").reverse().slice(2).reverse().join("/")+"/";n(c)}}}else t.stopPropagation()}));var C={};C.Capabilities=u,"grid"==e(".fileinfo").data("view")?(e(".fileinfo").find("#contents li").dblclick((function(t){t.stopPropagation(),w();var r=decodeURI(e(this).find("span").attr("data-alt"));r.lastIndexOf("/")==r.length-1||r.lastIndexOf("\\")==r.length-1?(e(".file_manager_ok").addClass("disabled"),e(".file_manager_ok").attr("disabled",!0),e(".file_manager button.delete, .file_manager button.rename").attr("disabled","disabled"),e(".file_manager button.download").attr("disabled","disabled"),n(r)):v(r)&&x(t,C,"grid")&&e(".file_manager_ok").trigger("click")})),e(".fileinfo").find("#contents li").on("click",(function(t){t.stopPropagation();var r=decodeURI(e(this).find(".clip span").attr("data-alt")),i=e(this).find(".clip span.fm_lock_icon").attr("data-protected");r.lastIndexOf("/")==r.length-1||r.lastIndexOf("\\")==r.length-1?(f(C,"select_folder")&&null==i&&(e(this).parent().find("li.selected").removeClass("selected"),e(this).addClass("selected"),e(".file_manager_ok").removeClass("disabled"),e(".file_manager_ok").attr("disabled",!1),e(".file_manager button.delete, .file_manager button.rename").removeAttr("disabled","disabled"),e(".file_manager button.download").attr("disabled","disabled"),e(".file_manager #uploader .input-path").hide(),e(".file_manager #uploader .show_selected_file").remove(),e('<span class="show_selected_file">'+r+"</span>").appendTo(".file_manager #uploader .filemanager-path-group")),o.FileUtils.setUploader(r)):(f(C,"select_file")&&null==i&&(e(this).parent().find("li.selected").removeClass("selected"),e(this).addClass("selected"),e(".file_manager_ok").removeClass("disabled"),e(".file_manager_ok").attr("disabled",!1),e(".file_manager button.delete, .file_manager button.download, .file_manager button.rename").removeAttr("disabled"),e(".file_manager #uploader .show_selected_file").remove()),v(r))}))):(e(".fileinfo table#contents tbody tr").on("click",(function(t){t.stopPropagation();var r=decodeURI(e("td:first-child",this).attr("title")),i=e("td:first-child",this).find("i.tbl_lock_icon").attr("data-protected");r.lastIndexOf("/")==r.length-1||r.lastIndexOf("\\")==r.length-1?(f(C,"select_folder")&&null==i&&(e(this).parent().find("tr.selected").removeClass("selected"),e("td:first-child",this).parent().addClass("selected"),e(".file_manager_ok").removeClass("disabled"),e(".file_manager_ok").attr("disabled",!1),e(".file_manager button.download").attr("disabled","disabled"),e(".file_manager button.delete, .file_manager button.rename").removeAttr("disabled"),e(".file_manager #uploader .input-path").hide(),e(".file_manager #uploader .show_selected_file").remove(),e('<span class="show_selected_file">'+r+"</span>").appendTo(".file_manager #uploader .filemanager-path-group")),o.FileUtils.setUploader(r)):(f(C,"select_file")&&null==i&&(e(this).parent().find("tr.selected").removeClass("selected"),e("td:first-child",this).parent().addClass("selected"),e(".file_manager button.delete, .file_manager button.download, .file_manager button.rename").removeAttr("disabled"),e(".file_manager #uploader .show_selected_file").remove()),v(r))})),e(".fileinfo table#contents tbody tr").on("dblclick",(function(t){t.stopPropagation(),w();var r=e("td:first-child",this).attr("title");r.lastIndexOf("/")==r.length-1||r.lastIndexOf("\\")==r.length-1?(e(".file_manager_ok").addClass("disabled"),e(".file_manager_ok").attr("disabled",!0),e(".file_manager button.download").attr("disabled","disabled"),e(".file_manager button.delete, .file_manager button.rename").attr("disabled","disabled"),n(r)):v(r)&&x(t,C,"table")&&e(".file_manager_ok").trigger("click")})))}else r.error(s.Error)})).fail((function(){e(".storage_dialog #uploader .input-path").prop("disabled",!1)}))},_="/",w=function(){e(".file_manager #uploader .input-path").show(),e(".show_selected_file").remove(),setTimeout((function(){var t=e(".currentpath").val(),r=e(".file_manager").find("button.level-up"),i=e(".file_manager").find("button.home");"/"===t?r.attr("disabled","disabled"):r.removeAttr("disabled"),t===_?i.attr("disabled","disabled"):i.removeAttr("disabled")}),100)},x=function(t,r,i){var a,n=t.currentTarget;return a="grid"==i?e(n).find(".clip span.fm_lock_icon").attr("data-protected"):e(n).find("td:first-child").find("i.tbl_lock_icon").attr("data-protected"),f(r,"select_file")&&null==a};return o.FileUtils={init:function(){var s,l,p=a("file_manager.get_trans_id"),g=d(p);4==g.readyState&&(s=JSON.parse(g.responseText)),l=t.isUndefined(s)?0:s.data.fileTransId;var m,b=a("file_manager.index"),x=b+"filemanager/"+l+"/",C=d(b+l+"/file_manager_config.json");if(this.fileConnector=x,this.transId=l,4==C.readyState&&(this.config=m=JSON.parse(C.responseText),_=m.options.homedir),!t.isUndefined(m)){var k,F=m.options.fileRoot,S=m.options.capabilities,z=[],T=a("file_manager.index")+"en.json",I=d(T);if(4==I.readyState&&(this.lg=z=JSON.parse(I.responseText)),"select_file"==m.options.dialog_type||"create_file"==m.options.dialog_type||"storage_dialog"==m.options.dialog_type){var E=m.options.allowed_file_types,$=E.length,R="";if($>0){for(var A,D=0,O=!1,N=!1,L="";D<$;)A=E[D],O||1!=$&&"*"==A?(L+='<option value="'+A+'">'+("*"==A?i("All Files"):A)+"</option>",N=N||"*"==A):(L+="<option value="+A+" selected>"+A+"</option>",O=!0,N=N||"*"==A),D++;N||(L+='<option value="*">'+i("All Files")+"</option>"),R="<div class='change_file_types d-flex align-items-center p-1'>\n          <div>"+i("Show hidden files and folders?")+"<input type='checkbox' id='show_hidden' onclick='pgAdmin.FileUtils.handleClick(this)' tabindex='0'>\n          </div>\n          <div class=\"ml-auto\">\n            <label class=\"my-auto\">"+i("Format")+"</label>\n            <select name='type' tabindex='0'>".concat(L,"</select>\n          <div>")}e(".allowed_file_types").html(R),e(".allowed_file_types select").on("change",(function(){var t=e(this).val(),r=e(".currentpath").val(),i=null,a=e(".storage_dialog #uploader .input-path").val();i=r.endsWith("/")?a.substring(r.lastIndexOf("/")+1):a.substring(r.lastIndexOf("\\")+1),y(r,t,i)})),m.options.show_hidden_files&&setTimeout((function(){e("#show_hidden").trigger("click")}),10),this.handleClick=function(t){var r,i,n={is_checked:!1};t.checked?(e("div.allowed_file_types select").trigger("change"),n.is_checked=!0):(e("div.allowed_file_types select").trigger("change"),n.is_checked=!1),r=n.is_checked,i=o.FileUtils.transId,e.ajax({url:a("file_manager.save_show_hidden_file_option",{trans_id:i}),type:"PUT",async:!0,data:JSON.stringify({show_hidden:r}),contentType:"application/json"})}}e(".file_manager").attr("data-platform",m.options.platform_type),e(".file_manager .fileinfo").on("click",(function(){h()})),e(".file_manager .refresh").on("click",(function(){h();var t,r=e(".currentpath").val();e(".file_manager #uploader .input-path").val(r),t=r.endsWith("/")?r.substring(0,r.lastIndexOf("/"))+"/":r.substring(0,r.lastIndexOf("\\"))+"\\",y(t)})),e(".delete_item button.btn_no").on("click",(function(){e(".delete_item, .fileinfo .fm_dimmer").hide()})),e(".file_manager").find("button.rename").attr("disabled","disabled"),e(".fileinfo .fm_dimmer").on("click",(function(e){e.stopPropagation()})),e(".fileinfo .replace_file").not(e(this).find("span.pull-right")).on("click",(function(t){e("#uploader .filemanager-btn-group").off().on("click",(function(){e(".fileinfo .delete_item, .fileinfo .replace_file, .fileinfo .fm_dimmer").hide()})),t.stopPropagation()})),e(".fileinfo").data("view",m.options.defaultViewMode),c(m.options.defaultViewMode),e(".file_manager .uploader").on("click","a",(function(t){t.preventDefault();var r=e(".currentpath").val(),i=e(this).next().text(),a=r.substring(0,r.slice(0,-1).lastIndexOf(i));y(a)})),e(".file_manager .home").on("click",(function(){var t=e(".fileinfo").data("view");e(".fileinfo").data("view",t),y(_),w()})),e(".file_manager .level-up").on("click",(function(){var t=e(".currentpath").val();if(w(),(t.endsWith("\\")||t.endsWith("/"))&&(t=t.substring(0,t.length-1)),"/"!=t){var r;r=t.lastIndexOf("/")>t.lastIndexOf("\\")?t.substring(0,t.slice(0,-1).lastIndexOf("/"))+"/":t.substring(0,t.slice(0,-1).lastIndexOf("\\"))+"\\";var i=e(".fileinfo").data("view");e(".fileinfo").data("view",i),y(r)}})),e(".file_manager .grid").on("click",(function(){c("grid"),e(".fileinfo").data("view","grid"),h(),y(e(".currentpath").val()),u("grid",o.FileUtils.transId)})),e(".file_manager .list").on("click",(function(){c("list"),e(".fileinfo").data("view","list"),h(),y(e(".currentpath").val()),u("list",o.FileUtils.transId)})),o.FileUtils.setUploader(F),this.data=k={Capabilities:S},(new function(){this.init=function(t){var a=this,n=function(t,n){if((t=decodeURI(t)).lastIndexOf("/")==t.length-1||t.lastIndexOf("\\")==t.length-1)f(a.data_cap,"select_folder")?(e(".file_manager_ok").removeClass("disabled"),e(".file_manager_ok").attr("disabled",!1),e(".file_manager button.delete, .file_manager button.rename").removeAttr("disabled","disabled"),e(".file_manager button.download").attr("disabled","disabled"),e(".file_manager #uploader .input-path").hide(),e(".file_manager #uploader .show_selected_file").remove(),e('<span class="show_selected_file">'+t+"</span>").appendTo(".file_manager #uploader .filemanager-path-group")):(e(".file_manager_ok").addClass("disabled"),e(".file_manager_ok").attr("disabled",!0),n&&(w(),e(".file_manager button.delete, .file_manager button.rename").attr("disabled","disabled"),e(".file_manager button.download").attr("disabled","disabled"),y(t)));else if(f(a.data_cap,"select_file")&&(e(".file_manager_ok").removeClass("disabled"),e(".file_manager_ok").attr("disabled",!1),e(".file_manager button.delete, .file_manager button.download, .file_manager button.rename").removeAttr("disabled"),e(".file_manager #uploader .show_selected_file").remove()),n)if("create_file"==m.options.dialog_type)(function(t){var a=!1,n={path:t,mode:"permission"};return e.ajax({type:"POST",data:JSON.stringify(n),url:o.FileUtils.fileConnector,dataType:"json",contentType:"application/json; charset=utf-8",async:!1}).done((function(t){var i=t.data.result;1===i.Code?a=!0:(e(".file_manager_ok").addClass("disabled"),e(".file_manager_ok").attr("disabled",!0),r.error(i.Error))})).fail((function(){e(".file_manager_ok").addClass("disabled"),e(".file_manager_ok").attr("disabled",!0),r.error(i("Error occurred while checking access permission."))})),a})(t)&&e(".file_manager").trigger("enter-key");else if("select_file"==m.options.dialog_type){v(t)&&e(".file_manager").trigger("enter-key")}};a.data_cap=t,e(".storage_dialog #uploader .input-path").on("keyup",(function(t){if(13==t.keyCode){t.stopPropagation();var r=e(this).val();return""==r&&(r="/"),"win32"===m.options.platform_type?r=r.replace(/\//g,"\\"):(r=r.replace(/\\/g,"/")).startsWith("/")||(r="/"+r),e(this).val(r),void setTimeout((function(){n(r,!0)}))}n(e(this).val(),!1)}))},this.set_cap=function(e){this.data_cap=e}}).init(k),f(k,"upload")&&(n.autoDiscover=!1,e(".file-input-container").remove(),e(".upload").remove(),e(".create").before('<button value="Upload" type="button" title="Upload File" name="upload" id="upload" class="btn btn-sm btn-primary-icon upload" tabindex="0"><span class="fa fa-upload sql-icon-lg"></span></button> '),e("#uploader .upload").off().on("click",(function(){var t,a='<div id="dropzone-container" class="d-flex flex-column flex-grow-1"><button class="fa fa-times fa-lg dz_cross_btn ml-auto" tabindex="0"></button><div id="multiple-uploads" class="dropzone flex-grow-1 d-flex p-1"><div class="dz-default dz-message d-none"></div></div><div class="prompt-info">'+i("Drop files here to upload.")+" "+z.file_size_limit+m.upload.fileSizeLimit+" "+z.mb+".</div>",n=e(".currentpath").val(),s=m.upload.fileSizeLimit,l="auto"!=s?s:256;t="DISALLOW_ALL"==m.security.uploadPolicy?"."+m.security.uploadRestrictions.join(",."):null,e(".file_manager .upload_file").toggleClass("d-none"),e(".file_manager .file_listing").toggleClass("d-none"),e(".file_manager .upload_file").html(a);var d={};d[o.csrf_token_header]=o.csrf_token,e("div#multiple-uploads").dropzone({paramName:"newfile",url:o.FileUtils.fileConnector,headers:d,maxFilesize:l,maxFiles:m.upload.number,addRemoveLinks:!0,previewTemplate:'<div class="file_upload_main dz-preview dz-file-preview"><div class="show_error"><p class="size dz-size" data-dz-size></p><p class="name dz-filename" data-dz-name></p></div><div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div><div class="dz-success-mark"><span></span></div><div class="dz-error-mark"><span></span></div><div class="dz-error-message"><span data-dz-errormessage></span></div><a href="javascript:void(0);" class="fa fa-trash dz_file_remove" data-dz-remove></a></div>',parallelUploads:m.upload.number,dictMaxFilesExceeded:z.dz_dictMaxFilesExceeded.replace("%s",m.upload.number),dictDefaultMessage:z.dz_dictDefaultMessage,dictInvalidFileType:z.dz_dictInvalidFileType,dictFileTooBig:z.file_too_big+" "+z.file_size_limit+m.upload.fileSizeLimit+" "+z.mb,acceptedFiles:t,autoProcessQueue:!0,init:function(){e(".dz_cross_btn").off().on("click",(function(){e(".file_manager .upload_file").toggleClass("d-none"),e(".file_manager .file_listing").toggleClass("d-none")}))},sending:function(t,r,i){i.append("mode","add"),i.append("currentpath",n),e(".upload_file .dz_cross_btn").attr("disabled","disabled"),setTimeout((function(){}),1e4)},success:function(t,i){var a=i.data.result,o=e(t.previewTemplate);1==a.Code?(setTimeout((function(){o.find(".dz-upload").addClass("success")}),1e3),o.find(".dz-upload").css("width","100%").html("100%"),r.success(z.upload_success)):(o.find(".dz-upload").addClass("error"),o.find(".dz-upload").css("width","0%").html("0%"),r.error(a.Error)),y(n)},totaluploadprogress:function(){},complete:function(t){"error"==t.status&&r.error(z.upload_error),e(".upload_file .dz_cross_btn").removeAttr("disabled"),y(n)}})}))),this.getDetailView(F)}},setUploader:function(t){var i=this.config,a=this.lg;e(".storage_dialog #uploader").find("a").remove(),e(".storage_dialog #uploader").find("b").remove(),t="win32"===i.options.platform_type?t.replace(/\//g,"\\"):t.replace(/\\/g,"/"),t=decodeURI(t),"win32"===i.options.platform_type?i.options.show_volumes&&"\\"==t?e(".storage_dialog #uploader .input-path").val(""):e(".storage_dialog #uploader .input-path").val(t):("win32"===i.options.platform_type||""!=t&&t.startsWith("/")||(t="/"+t),e(".storage_dialog #uploader .input-path").val(t)),-1==t.lastIndexOf("\\")&&-1==t.lastIndexOf("/")?e(".currentpath").val(t):t.lastIndexOf("/")>t.lastIndexOf("\\")?e(".currentpath").val(t.substr(0,t.lastIndexOf("/")+1)):e(".currentpath").val(t.substr(0,t.lastIndexOf("\\")+1)),w(),0===e(".storage_dialog #uploader h1 span").length&&e("<span>"+a.current_folder+"</span>").appendTo(e(".storage_dialog #uploader h1")),e(".storage_dialog #uploader .input-path").attr("title",t),e(".storage_dialog #uploader .input-path").attr("data-path",t),e(".create").off().on("click",(function(){var i,n,s,l=a.new_folder;if(e(".file_manager button.create").attr("disabled","disabled"),e(".no_folder_found").addClass("d-none"),"grid"==e(".fileinfo").data("view"))s="<li tabIndex=\"0\" class='cap_download cap_delete cap_select_file cap_select_folder cap_rename cap_create cap_upload'><div class='clip'><span data-alt='' class='fa fa-folder-open fm_folder_grid' role=\"img\"></span></div><div><input type='text' class='fm_file_rename'><span class=\"less_text\" title=''>New_Folder</span></div><span class='meta size'></span><span class='meta created'></span><span class='meta modified'></span></li>",t=e(".currentpath").val(),i=e(s),e(".fileinfo #contents.grid").prepend(i),i.find("div span.less_text").toggle(),i.find("div input").toggle().val(a.new_folder).select(),e(".file_manager").on("keyup",(function(e){13==e.keyCode&&(e.stopPropagation(),i.find("div input").trigger("blur"))})),i.find("div input").on("blur",(function(){e(".file_manager button.create").removeAttr("disabled");var r=i.find("div input").val();t=e(".currentpath").val(),i.find("div input").toggle(),i.find("div span.less_text").toggle().html(r),void 0===r&&(r=a.new_folder),c(r),y(t)}));else if("list"==e(".fileinfo").data("view")){s=e('<tr class=\'cap_download cap_delete cap_select_file cap_select_folder cap_rename cap_create cap_upload\'>\n              <td title=\'\' class=\' tbl_folder\'>\n                <div>\n                  <input type="text" class="fm_file_rename"/>\n                  <div class="fm_file_name">\n                    <div class="d-flex">\n                      <span class="fa fa-folder-open fm_folder_list" role="img"></span>\n                      <span class="less_text ml-2">'.concat(a.new_folder,"</span>\n                    </div>\n                  <div>\n                </div>\n              </td>\n              <td><span title=''></span></td>\n              <td></td>\n            </tr>")),n=e(s);var d=e(".fileinfo #contents.file_listing_table");d.removeClass("file_listing_table_no_data"),d.find("tbody").prepend(n),n.find("td .fm_file_name").toggle(),n.find("td input").toggle().val(a.new_folder).select(),e(".file_manager").on("keyup",(function(e){13==e.keyCode&&(e.stopPropagation(),n.find("td input").trigger("blur"))})),n.find("td input").on("blur",(function(){e(".file_manager button.create").removeAttr("disabled");var r=n.find("td input").val();t=e(".currentpath").val(),n.find("td input").toggle(),n.find("td .fm_file_name span.less_text").html(r),n.find("td .fm_file_name").toggle(),void 0===r&&(r=a.new_folder),c(r),y(t)}))}var c=function(t){""!=t?(l=t,e.getJSON(o.FileUtils.fileConnector+"?_="+Date.now()+"&mode=addfolder&path="+e(".currentpath").val()+"&name="+l,(function(e){var t=e.data.result;1===t.Code?(r.success(a.successful_added_folder),y(t.Parent)):r.error(t.Error)}))):r.error(a.no_foldername)}}))},getDetailView:function(e){if(e.lastIndexOf("/")==e.length-1||e.lastIndexOf("\\")==e.length-1){var t=this.config.options.allowed_file_types,r=t[0];"*"==t[0]&&(r=t[1]),y(e,r)}},hideButtons:function(){return"win32"===this.config.options.platform_type&&""===e(".currentpath").val()}},o.FileUtils}.apply(t,i))||(e.exports=a)},502:function(e,t,r){"use strict";var i=r(26),a=r(120),n=[].reverse,o=[1,2];i({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),n.call(this)}})},503:function(e,t,r){"use strict";(function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?n(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}var c=function(){function e(){s(this,e)}return d(e,[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(e){this._callbacks=this._callbacks||{};var t=this._callbacks[e];if(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var n=!0,o=!1,s=void 0;try{for(var l,d=t[Symbol.iterator]();!(n=(l=d.next()).done);n=!0){var c=l.value;c.apply(this,i)}}catch(e){o=!0,s=e}finally{try{n||null==d.return||d.return()}finally{if(o)throw s}}}return this}},{key:"off",value:function(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var r=this._callbacks[e];if(!r)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(var i=0;i<r.length;i++){var a=r[i];if(a===t){r.splice(i,1);break}}return this}}]),e}(),u=function(e){function t(e,r){var o,l,d;if(s(this,t),(o=i(this,a(t).call(this))).element=e,o.version=t.version,o.defaultOptions.previewTemplate=o.defaultOptions.previewTemplate.replace(/\n*/g,""),o.clickableElements=[],o.listeners=[],o.files=[],"string"==typeof o.element&&(o.element=document.querySelector(o.element)),!o.element||null==o.element.nodeType)throw new Error("Invalid dropzone element.");if(o.element.dropzone)throw new Error("Dropzone already attached.");t.instances.push(n(o)),o.element.dropzone=n(o);var c=null!=(d=t.optionsForElement(o.element))?d:{};if(o.options=t.extend({},o.defaultOptions,c,null!=r?r:{}),o.options.forceFallback||!t.isBrowserSupported())return i(o,o.options.fallback.call(n(o)));if(null==o.options.url&&(o.options.url=o.element.getAttribute("action")),!o.options.url)throw new Error("No URL provided.");if(o.options.acceptedFiles&&o.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(o.options.uploadMultiple&&o.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return o.options.acceptedMimeTypes&&(o.options.acceptedFiles=o.options.acceptedMimeTypes,delete o.options.acceptedMimeTypes),null!=o.options.renameFilename&&(o.options.renameFile=function(e){return o.options.renameFilename.call(n(o),e.name,e)}),o.options.method=o.options.method.toUpperCase(),(l=o.getExistingFallback())&&l.parentNode&&l.parentNode.removeChild(l),!1!==o.options.previewsContainer&&(o.options.previewsContainer?o.previewsContainer=t.getElement(o.options.previewsContainer,"previewsContainer"):o.previewsContainer=o.element),o.options.clickable&&(!0===o.options.clickable?o.clickableElements=[o.element]:o.clickableElements=t.getElements(o.options.clickable,"clickable")),o.init(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(t,e),d(t,null,[{key:"initClass",value:function(){this.prototype.Emitter=c,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,r){if(r)return{dzuuid:r.file.upload.uuid,dzchunkindex:r.index,dztotalfilesize:r.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:r.file.upload.totalChunkCount,dzchunkbyteoffset:r.index*this.options.chunkSize}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var e;this.element.className="".concat(this.element.className," dz-browser-not-supported");var r=!0,i=!1,a=void 0;try{for(var n,o=this.element.getElementsByTagName("div")[Symbol.iterator]();!(r=(n=o.next()).done);r=!0){var s=n.value;if(/(^| )dz-message($| )/.test(s.className)){e=s,s.className="dz-message";break}}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}e||(e=t.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e));var l=e.getElementsByTagName("span")[0];return l&&(null!=l.textContent?l.textContent=this.options.dictFallbackMessage:null!=l.innerText&&(l.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,r,i){var a={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},n=e.width/e.height;null==t&&null==r?(t=a.srcWidth,r=a.srcHeight):null==t?t=r*n:null==r&&(r=t/n);var o=(t=Math.min(t,a.srcWidth))/(r=Math.min(r,a.srcHeight));if(a.srcWidth>t||a.srcHeight>r)if("crop"===i)n>o?(a.srcHeight=e.height,a.srcWidth=a.srcHeight*o):(a.srcWidth=e.width,a.srcHeight=a.srcWidth/o);else{if("contain"!==i)throw new Error("Unknown resizeMethod '".concat(i,"'"));n>o?r=t/n:t=r*n}return a.srcX=(e.width-a.srcWidth)/2,a.srcY=(e.height-a.srcHeight)/2,a.trgWidth=t,a.trgHeight=r,a},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Check</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Error</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:function(e){},dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:function(e){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var r=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){e.previewElement=t.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement);var i=!0,a=!1,n=void 0;try{for(var o,s=e.previewElement.querySelectorAll("[data-dz-name]")[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;l.textContent=e.name}}catch(e){a=!0,n=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw n}}var d=!0,c=!1,u=void 0;try{for(var f,p=e.previewElement.querySelectorAll("[data-dz-size]")[Symbol.iterator]();!(d=(f=p.next()).done);d=!0)(l=f.value).innerHTML=this.filesize(e.size)}catch(e){c=!0,u=e}finally{try{d||null==p.return||p.return()}finally{if(c)throw u}}this.options.addRemoveLinks&&(e._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),e.previewElement.appendChild(e._removeLink));var h=function(i){return i.preventDefault(),i.stopPropagation(),e.status===t.UPLOADING?t.confirm(r.options.dictCancelUploadConfirmation,(function(){return r.removeFile(e)})):r.options.dictRemoveFileConfirmation?t.confirm(r.options.dictRemoveFileConfirmation,(function(){return r.removeFile(e)})):r.removeFile(e)},g=!0,m=!1,v=void 0;try{for(var b,y=e.previewElement.querySelectorAll("[data-dz-remove]")[Symbol.iterator]();!(g=(b=y.next()).done);g=!0){b.value.addEventListener("click",h)}}catch(e){m=!0,v=e}finally{try{g||null==y.return||y.return()}finally{if(m)throw v}}}},removedfile:function(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");var r=!0,i=!1,a=void 0;try{for(var n,o=e.previewElement.querySelectorAll("[data-dz-thumbnail]")[Symbol.iterator]();!(r=(n=o.next()).done);r=!0){var s=n.value;s.alt=e.name,s.src=t}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return setTimeout((function(){return e.previewElement.classList.add("dz-image-preview")}),1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error);var r=!0,i=!1,a=void 0;try{for(var n,o=e.previewElement.querySelectorAll("[data-dz-errormessage]")[Symbol.iterator]();!(r=(n=o.next()).done);r=!0){n.value.textContent=t}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}}},errormultiple:function(){},processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(e,t,r){if(e.previewElement){var i=!0,a=!1,n=void 0;try{for(var o,s=e.previewElement.querySelectorAll("[data-dz-uploadprogress]")[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;"PROGRESS"===l.nodeName?l.value=t:l.style.width="".concat(t,"%")}}catch(e){a=!0,n=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw n}}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink&&(e._removeLink.innerHTML=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];for(var a=0,n=r;a<n.length;a++){var o=n[a];for(var s in o){var l=o[s];e[s]=l}}return e}}]),d(t,[{key:"getAcceptedFiles",value:function(){return this.files.filter((function(e){return e.accepted})).map((function(e){return e}))}},{key:"getRejectedFiles",value:function(){return this.files.filter((function(e){return!e.accepted})).map((function(e){return e}))}},{key:"getFilesWithStatus",value:function(e){return this.files.filter((function(t){return t.status===e})).map((function(e){return e}))}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(t.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(t.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(t.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter((function(e){return e.status===t.UPLOADING||e.status===t.QUEUED})).map((function(e){return e}))}},{key:"init",value:function(){var e=this;if("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length){!function r(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null===e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!==e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!==e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",t.getElement(e.options.hiddenInputContainer,"hiddenInputContainer").appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",(function(){var t=e.hiddenFileInput.files;if(t.length){var i=!0,a=!1,n=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;e.addFile(l)}}catch(e){a=!0,n=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw n}}}return e.emit("addedfiles",t),r()}))}()}this.URL=null!==window.URL?window.URL:window.webkitURL;var r=!0,i=!1,a=void 0;try{for(var n,o=this.events[Symbol.iterator]();!(r=(n=o.next()).done);r=!0){var s=n.value;this.on(s,this.options[s])}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}this.on("uploadprogress",(function(){return e.updateTotalUploadProgress()})),this.on("removedfile",(function(){return e.updateTotalUploadProgress()})),this.on("canceled",(function(t){return e.emit("complete",t)})),this.on("complete",(function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout((function(){return e.emit("queuecomplete")}),0)}));var l=function(e){if(function(e){if(e.dataTransfer.types)for(var t=0;t<e.dataTransfer.types.length;t++)if("Files"===e.dataTransfer.types[t])return!0;return!1}(e))return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(t){return e.emit("dragstart",t)},dragenter:function(t){return l(t),e.emit("dragenter",t)},dragover:function(t){var r;try{r=t.dataTransfer.effectAllowed}catch(e){}return t.dataTransfer.dropEffect="move"===r||"linkMove"===r?"move":"copy",l(t),e.emit("dragover",t)},dragleave:function(t){return e.emit("dragleave",t)},drop:function(t){return l(t),e.drop(t)},dragend:function(t){return e.emit("dragend",t)}}}],this.clickableElements.forEach((function(r){return e.listeners.push({element:r,events:{click:function(i){return(r!==e.element||i.target===e.element||t.elementInside(i.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})})),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,t.instances.splice(t.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e,t=0,r=0;if(this.getActiveFiles().length){var i=!0,a=!1,n=void 0;try{for(var o,s=this.getActiveFiles()[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;t+=l.upload.bytesSent,r+=l.upload.total}}catch(e){a=!0,n=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw n}}e=100*t/r}else e=100;return this.emit("totaluploadprogress",e,r,t)}},{key:"_getParamName",value:function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(e,"]"):"")}},{key:"_renameFile",value:function(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var e,r;if(e=this.getExistingFallback())return e;var i='<div class="dz-fallback">';this.options.dictFallbackText&&(i+="<p>".concat(this.options.dictFallbackText,"</p>")),i+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var a=t.createElement(i);return"FORM"!==this.element.tagName?(r=t.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(a):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=r?r:a}},{key:"getExistingFallback",value:function(){for(var e=function(e){var t=!0,r=!1,i=void 0;try{for(var a,n=e[Symbol.iterator]();!(t=(a=n.next()).done);t=!0){var o=a.value;if(/(^| )fallback($| )/.test(o.className))return o}}catch(e){r=!0,i=e}finally{try{t||null==n.return||n.return()}finally{if(r)throw i}}},t=0,r=["div","form"];t<r.length;t++){var i,a=r[t];if(i=e(this.element.getElementsByTagName(a)))return i}}},{key:"setupEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var r in e.events){var i=e.events[r];t.push(e.element.addEventListener(r,i,!1))}return t}()}))}},{key:"removeEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var r in e.events){var i=e.events[r];t.push(e.element.removeEventListener(r,i,!1))}return t}()}))}},{key:"disable",value:function(){var e=this;return this.clickableElements.forEach((function(e){return e.classList.remove("dz-clickable")})),this.removeEventListeners(),this.disabled=!0,this.files.map((function(t){return e.cancelUpload(t)}))}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach((function(e){return e.classList.add("dz-clickable")})),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,r="b";if(e>0){for(var i=["tb","gb","mb","kb","b"],a=0;a<i.length;a++){var n=i[a];if(e>=Math.pow(this.options.filesizeBase,4-a)/10){t=e/Math.pow(this.options.filesizeBase,4-a),r=n;break}}t=Math.round(10*t)/10}return"<strong>".concat(t,"</strong> ").concat(this.options.dictFileSizeUnits[r])}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var t=[],r=0;r<e.dataTransfer.files.length;r++)t[r]=e.dataTransfer.files[r];if(t.length){var i=e.dataTransfer.items;i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)}this.emit("addedfiles",t)}}},{key:"paste",value:function(e){if(null!=(t=null!=e?e.clipboardData:void 0,r=function(e){return e.items},null!=t?r(t):void 0)){var t,r;this.emit("paste",e);var i=e.clipboardData.items;return i.length?this._addFilesFromItems(i):void 0}}},{key:"handleFiles",value:function(e){var t=!0,r=!1,i=void 0;try{for(var a,n=e[Symbol.iterator]();!(t=(a=n.next()).done);t=!0){var o=a.value;this.addFile(o)}}catch(e){r=!0,i=e}finally{try{t||null==n.return||n.return()}finally{if(r)throw i}}}},{key:"_addFilesFromItems",value:function(e){var t=this;return function(){var r=[],i=!0,a=!1,n=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l,d=o.value;null!=d.webkitGetAsEntry&&(l=d.webkitGetAsEntry())?l.isFile?r.push(t.addFile(d.getAsFile())):l.isDirectory?r.push(t._addFilesFromDirectory(l,l.name)):r.push(void 0):null!=d.getAsFile&&(null==d.kind||"file"===d.kind)?r.push(t.addFile(d.getAsFile())):r.push(void 0)}}catch(e){a=!0,n=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw n}}return r}()}},{key:"_addFilesFromDirectory",value:function(e,t){var r=this,i=e.createReader(),a=function(e){return t=console,r="log",i=function(t){return t.log(e)},null!=t&&"function"==typeof t[r]?i(t,r):void 0;var t,r,i};return function e(){return i.readEntries((function(i){if(i.length>0){var a=!0,n=!1,o=void 0;try{for(var s,l=i[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var d=s.value;d.isFile?d.file((function(e){if(!r.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath="".concat(t,"/").concat(e.name),r.addFile(e)})):d.isDirectory&&r._addFilesFromDirectory(d,"".concat(t,"/").concat(d.name))}}catch(e){n=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw o}}e()}return null}),a)}()}},{key:"accept",value:function(e,r){this.options.maxFilesize&&e.size>1024*this.options.maxFilesize*1024?r(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):t.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(r(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,r):r(this.options.dictInvalidFileType)}},{key:"addFile",value:function(e){var r=this;e.upload={uuid:t.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)},this.files.push(e),e.status=t.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(function(t){t?(e.accepted=!1,r._errorProcessing([e],t)):(e.accepted=!0,r.options.autoQueue&&r.enqueueFile(e)),r._updateMaxFilesReachedClass()}))}},{key:"enqueueFiles",value:function(e){var t=!0,r=!1,i=void 0;try{for(var a,n=e[Symbol.iterator]();!(t=(a=n.next()).done);t=!0){var o=a.value;this.enqueueFile(o)}}catch(e){r=!0,i=e}finally{try{t||null==n.return||n.return()}finally{if(r)throw i}}return null}},{key:"enqueueFile",value:function(e){var r=this;if(e.status!==t.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=t.QUEUED,this.options.autoProcessQueue)return setTimeout((function(){return r.processQueue()}),0)}},{key:"_enqueueThumbnail",value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout((function(){return t._processThumbnailQueue()}),0)}},{key:"_processThumbnailQueue",value:function(){var e=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,(function(r){return e.emit("thumbnail",t,r),e._processingThumbnail=!1,e._processThumbnailQueue()}))}}},{key:"removeFile",value:function(e){if(e.status===t.UPLOADING&&this.cancelUpload(e),this.files=f(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){null==e&&(e=!1);var r=!0,i=!1,a=void 0;try{for(var n,o=this.files.slice()[Symbol.iterator]();!(r=(n=o.next()).done);r=!0){var s=n.value;(s.status!==t.UPLOADING||e)&&this.removeFile(s)}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return null}},{key:"resizeImage",value:function(e,r,i,a,n){var o=this;return this.createThumbnail(e,r,i,a,!0,(function(r,i){if(null==i)return n(e);var a=o.options.resizeMimeType;null==a&&(a=e.type);var s=i.toDataURL(a,o.options.resizeQuality);return"image/jpeg"!==a&&"image/jpg"!==a||(s=g.restore(e.dataURL,s)),n(t.dataURItoBlob(s))}))}},{key:"createThumbnail",value:function(e,t,r,i,a,n){var o=this,s=new FileReader;s.onload=function(){e.dataURL=s.result,"image/svg+xml"!==e.type?o.createThumbnailFromUrl(e,t,r,i,a,n):null!=n&&n(s.result)},s.readAsDataURL(e)}},{key:"displayExistingFile",value:function(e,t,r,i){var a=this,n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this.emit("addedfile",e),this.emit("complete",e),n){var o=function(t){a.emit("thumbnail",e,t),r&&r()};e.dataURL=t,this.createThumbnailFromUrl(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.resizeMethod,this.options.fixOrientation,o,i)}else this.emit("thumbnail",e,t),r&&r()}},{key:"createThumbnailFromUrl",value:function(e,t,r,i,a,n,o){var s=this,l=document.createElement("img");return o&&(l.crossOrigin=o),l.onload=function(){var o=function(e){return e(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&a&&(o=function(e){return EXIF.getData(l,(function(){return e(EXIF.getTag(this,"Orientation"))}))}),o((function(a){e.width=l.width,e.height=l.height;var o=s.options.resize.call(s,e,t,r,i),d=document.createElement("canvas"),c=d.getContext("2d");switch(d.width=o.trgWidth,d.height=o.trgHeight,a>4&&(d.width=o.trgHeight,d.height=o.trgWidth),a){case 2:c.translate(d.width,0),c.scale(-1,1);break;case 3:c.translate(d.width,d.height),c.rotate(Math.PI);break;case 4:c.translate(0,d.height),c.scale(1,-1);break;case 5:c.rotate(.5*Math.PI),c.scale(1,-1);break;case 6:c.rotate(.5*Math.PI),c.translate(0,-d.width);break;case 7:c.rotate(.5*Math.PI),c.translate(d.height,-d.width),c.scale(-1,1);break;case 8:c.rotate(-.5*Math.PI),c.translate(-d.height,0)}h(c,l,null!=o.srcX?o.srcX:0,null!=o.srcY?o.srcY:0,o.srcWidth,o.srcHeight,null!=o.trgX?o.trgX:0,null!=o.trgY?o.trgY:0,o.trgWidth,o.trgHeight);var u=d.toDataURL("image/png");if(null!=n)return n(u,d)}))},null!=n&&(l.onerror=n),l.src=e.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,r=t;if(!(t>=e)){var i=this.getQueuedFiles();if(i.length>0){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,e-t));for(;r<e;){if(!i.length)return;this.processFile(i.shift()),r++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){var r=!0,i=!1,a=void 0;try{for(var n,o=e[Symbol.iterator]();!(r=(n=o.next()).done);r=!0){var s=n.value;s.processing=!0,s.status=t.UPLOADING,this.emit("processing",s)}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(e){return this.files.filter((function(t){return t.xhr===e})).map((function(e){return e}))}},{key:"cancelUpload",value:function(e){if(e.status===t.UPLOADING){var r=this._getFilesWithXhr(e.xhr),i=!0,a=!1,n=void 0;try{for(var o,s=r[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){o.value.status=t.CANCELED}}catch(e){a=!0,n=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw n}}void 0!==e.xhr&&e.xhr.abort();var l=!0,d=!1,c=void 0;try{for(var u,f=r[Symbol.iterator]();!(l=(u=f.next()).done);l=!0){var p=u.value;this.emit("canceled",p)}}catch(e){d=!0,c=e}finally{try{l||null==f.return||f.return()}finally{if(d)throw c}}this.options.uploadMultiple&&this.emit("canceledmultiple",r)}else e.status!==t.ADDED&&e.status!==t.QUEUED||(e.status=t.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){if("function"==typeof e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return e.apply(this,r)}return e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(e){var r=this;this._transformFiles(e,(function(i){if(r.options.chunking){var a=i[0];e[0].upload.chunked=r.options.chunking&&(r.options.forceChunking||a.size>r.options.chunkSize),e[0].upload.totalChunkCount=Math.ceil(a.size/r.options.chunkSize)}if(e[0].upload.chunked){var n=e[0],o=i[0];n.upload.chunks=[];var s=function(){for(var i=0;void 0!==n.upload.chunks[i];)i++;if(!(i>=n.upload.totalChunkCount)){0;var a=i*r.options.chunkSize,s=Math.min(a+r.options.chunkSize,n.size),l={name:r._getParamName(0),data:o.webkitSlice?o.webkitSlice(a,s):o.slice(a,s),filename:n.upload.filename,chunkIndex:i};n.upload.chunks[i]={file:n,index:i,dataBlock:l,status:t.UPLOADING,progress:0,retries:0},r._uploadData(e,[l])}};if(n.upload.finishedChunkUpload=function(i){var a=!0;i.status=t.SUCCESS,i.dataBlock=null,i.xhr=null;for(var o=0;o<n.upload.totalChunkCount;o++){if(void 0===n.upload.chunks[o])return s();n.upload.chunks[o].status!==t.SUCCESS&&(a=!1)}a&&r.options.chunksUploaded(n,(function(){r._finished(e,"",null)}))},r.options.parallelChunkUploads)for(var l=0;l<n.upload.totalChunkCount;l++)s();else s()}else{for(var d=[],c=0;c<e.length;c++)d[c]={name:r._getParamName(c),data:i[c],filename:e[c].upload.filename};r._uploadData(e,d)}}))}},{key:"_getChunk",value:function(e,t){for(var r=0;r<e.upload.totalChunkCount;r++)if(void 0!==e.upload.chunks[r]&&e.upload.chunks[r].xhr===t)return e.upload.chunks[r]}},{key:"_uploadData",value:function(e,r){var i=this,a=new XMLHttpRequest,n=!0,o=!1,s=void 0;try{for(var l,d=e[Symbol.iterator]();!(n=(l=d.next()).done);n=!0){l.value.xhr=a}}catch(e){o=!0,s=e}finally{try{n||null==d.return||d.return()}finally{if(o)throw s}}e[0].upload.chunked&&(e[0].upload.chunks[r[0].chunkIndex].xhr=a);var c=this.resolveOption(this.options.method,e),u=this.resolveOption(this.options.url,e);a.open(c,u,!0),a.timeout=this.resolveOption(this.options.timeout,e),a.withCredentials=!!this.options.withCredentials,a.onload=function(t){i._finishedUploading(e,a,t)},a.ontimeout=function(){i._handleUploadError(e,a,"Request timedout after ".concat(i.options.timeout," seconds"))},a.onerror=function(){i._handleUploadError(e,a)},(null!=a.upload?a.upload:a).onprogress=function(t){return i._updateFilesUploadProgress(e,a,t)};var f={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var p in this.options.headers&&t.extend(f,this.options.headers),f){var h=f[p];h&&a.setRequestHeader(p,h)}var g=new FormData;if(this.options.params){var m=this.options.params;for(var v in"function"==typeof m&&(m=m.call(this,e,a,e[0].upload.chunked?this._getChunk(e[0],a):null)),m){var b=m[v];g.append(v,b)}}var y=!0,_=!1,w=void 0;try{for(var x,C=e[Symbol.iterator]();!(y=(x=C.next()).done);y=!0){var k=x.value;this.emit("sending",k,a,g)}}catch(e){_=!0,w=e}finally{try{y||null==C.return||C.return()}finally{if(_)throw w}}this.options.uploadMultiple&&this.emit("sendingmultiple",e,a,g),this._addFormElementData(g);for(var F=0;F<r.length;F++){var S=r[F];g.append(S.name,S.data,S.filename)}this.submitRequest(a,g,e)}},{key:"_transformFiles",value:function(e,t){for(var r=this,i=[],a=0,n=function(n){r.options.transformFile.call(r,e[n],(function(r){i[n]=r,++a===e.length&&t(i)}))},o=0;o<e.length;o++)n(o)}},{key:"_addFormElementData",value:function(e){if("FORM"===this.element.tagName){var t=!0,r=!1,i=void 0;try{for(var a,n=this.element.querySelectorAll("input, textarea, select, button")[Symbol.iterator]();!(t=(a=n.next()).done);t=!0){var o=a.value,s=o.getAttribute("name"),l=o.getAttribute("type");if(l&&(l=l.toLowerCase()),null!=s)if("SELECT"===o.tagName&&o.hasAttribute("multiple")){var d=!0,c=!1,u=void 0;try{for(var f,p=o.options[Symbol.iterator]();!(d=(f=p.next()).done);d=!0){var h=f.value;h.selected&&e.append(s,h.value)}}catch(e){c=!0,u=e}finally{try{d||null==p.return||p.return()}finally{if(c)throw u}}}else(!l||"checkbox"!==l&&"radio"!==l||o.checked)&&e.append(s,o.value)}}catch(e){r=!0,i=e}finally{try{t||null==n.return||n.return()}finally{if(r)throw i}}}}},{key:"_updateFilesUploadProgress",value:function(e,t,r){var i;if(void 0!==r){if(i=100*r.loaded/r.total,e[0].upload.chunked){var a=e[0],n=this._getChunk(a,t);n.progress=i,n.total=r.total,n.bytesSent=r.loaded;a.upload.progress=0,a.upload.total=0,a.upload.bytesSent=0;for(var o=0;o<a.upload.totalChunkCount;o++)void 0!==a.upload.chunks[o]&&void 0!==a.upload.chunks[o].progress&&(a.upload.progress+=a.upload.chunks[o].progress,a.upload.total+=a.upload.chunks[o].total,a.upload.bytesSent+=a.upload.chunks[o].bytesSent);a.upload.progress=a.upload.progress/a.upload.totalChunkCount}else{var s=!0,l=!1,d=void 0;try{for(var c,u=e[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var f=c.value;f.upload.progress=i,f.upload.total=r.total,f.upload.bytesSent=r.loaded}}catch(e){l=!0,d=e}finally{try{s||null==u.return||u.return()}finally{if(l)throw d}}}var p=!0,h=!1,g=void 0;try{for(var m,v=e[Symbol.iterator]();!(p=(m=v.next()).done);p=!0){var b=m.value;this.emit("uploadprogress",b,b.upload.progress,b.upload.bytesSent)}}catch(e){h=!0,g=e}finally{try{p||null==v.return||v.return()}finally{if(h)throw g}}}else{var y=!0;i=100;var _=!0,w=!1,x=void 0;try{for(var C,k=e[Symbol.iterator]();!(_=(C=k.next()).done);_=!0){var F=C.value;100===F.upload.progress&&F.upload.bytesSent===F.upload.total||(y=!1),F.upload.progress=i,F.upload.bytesSent=F.upload.total}}catch(e){w=!0,x=e}finally{try{_||null==k.return||k.return()}finally{if(w)throw x}}if(y)return;var S=!0,z=!1,T=void 0;try{for(var I,E=e[Symbol.iterator]();!(S=(I=E.next()).done);S=!0){var $=I.value;this.emit("uploadprogress",$,i,$.upload.bytesSent)}}catch(e){z=!0,T=e}finally{try{S||null==E.return||E.return()}finally{if(z)throw T}}}}},{key:"_finishedUploading",value:function(e,r,i){var a;if(e[0].status!==t.CANCELED&&4===r.readyState){if("arraybuffer"!==r.responseType&&"blob"!==r.responseType&&(a=r.responseText,r.getResponseHeader("content-type")&&~r.getResponseHeader("content-type").indexOf("application/json")))try{a=JSON.parse(a)}catch(e){i=e,a="Invalid JSON response from server."}this._updateFilesUploadProgress(e),200<=r.status&&r.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],r)):this._finished(e,a,i):this._handleUploadError(e,r,a)}}},{key:"_handleUploadError",value:function(e,r,i){if(e[0].status!==t.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var a=this._getChunk(e[0],r);if(a.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[a.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(e,i||this.options.dictResponseError.replace("{{statusCode}}",r.status),r)}}},{key:"submitRequest",value:function(e,t,r){e.send(t)}},{key:"_finished",value:function(e,r,i){var a=!0,n=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var d=s.value;d.status=t.SUCCESS,this.emit("success",d,r,i),this.emit("complete",d)}}catch(e){n=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw o}}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,r,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,r,i){var a=!0,n=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var d=s.value;d.status=t.ERROR,this.emit("error",d,r,i),this.emit("complete",d)}}catch(e){n=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw o}}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,r,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}}]),t}(c);u.initClass(),u.version="5.7.1",u.options={},u.optionsForElement=function(e){return e.getAttribute("id")?u.options[p(e.getAttribute("id"))]:void 0},u.instances=[],u.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},u.autoDiscover=!0,u.discover=function(){var e;if(document.querySelectorAll)e=document.querySelectorAll(".dropzone");else{e=[];var t=function(t){return function(){var r=[],i=!0,a=!1,n=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;/(^| )dropzone($| )/.test(l.className)?r.push(e.push(l)):r.push(void 0)}}catch(e){a=!0,n=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw n}}return r}()};t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))}return function(){var t=[],r=!0,i=!1,a=void 0;try{for(var n,o=e[Symbol.iterator]();!(r=(n=o.next()).done);r=!0){var s=n.value;!1!==u.optionsForElement(s)?t.push(new u(s)):t.push(void 0)}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return t}()},u.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],u.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){var t=!0,r=!1,i=void 0;try{for(var a,n=u.blacklistedBrowsers[Symbol.iterator]();!(t=(a=n.next()).done);t=!0){a.value.test(navigator.userAgent)&&(e=!1)}}catch(e){r=!0,i=e}finally{try{t||null==n.return||n.return()}finally{if(r)throw i}}}else e=!1;else e=!1;return e},u.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),a=new Uint8Array(i),n=0,o=t.length,s=0<=o;s?n<=o:n>=o;s?n++:n--)a[n]=t.charCodeAt(n);return new Blob([i],{type:r})};var f=function(e,t){return e.filter((function(e){return e!==t})).map((function(e){return e}))},p=function(e){return e.replace(/[\-_](\w)/g,(function(e){return e.charAt(1).toUpperCase()}))};u.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},u.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},u.getElement=function(e,t){var r;if("string"==typeof e?r=document.querySelector(e):null!=e.nodeType&&(r=e),null==r)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector or a plain HTML element."));return r},u.getElements=function(e,t){var r,i;if(e instanceof Array){i=[];try{var a=!0,n=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done);a=!0)r=s.value,i.push(this.getElement(r,t))}catch(e){n=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw o}}}catch(e){i=null}}else if("string"==typeof e){i=[];var d=!0,c=!1,u=void 0;try{for(var f,p=document.querySelectorAll(e)[Symbol.iterator]();!(d=(f=p.next()).done);d=!0)r=f.value,i.push(r)}catch(e){c=!0,u=e}finally{try{d||null==p.return||p.return()}finally{if(c)throw u}}}else null!=e.nodeType&&(i=[e]);if(null==i||!i.length)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return i},u.confirm=function(e,t,r){return window.confirm(e)?t():null!=r?r():void 0},u.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");var r=e.type,i=r.replace(/\/.*$/,""),a=!0,n=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var d=s.value;if("."===(d=d.trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(d.toLowerCase(),e.name.length-d.length))return!0}else if(/\/\*$/.test(d)){if(i===d.replace(/\/.*$/,""))return!0}else if(r===d)return!0}}catch(e){n=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw o}}return!1},null!=e&&(e.fn.dropzone=function(e){return this.each((function(){return new u(this,e)}))}),null!==t?t.exports=u:window.Dropzone=u,u.ADDED="added",u.QUEUED="queued",u.ACCEPTED=u.QUEUED,u.UPLOADING="uploading",u.PROCESSING=u.UPLOADING,u.CANCELED="canceled",u.ERROR="error",u.SUCCESS="success";var h=function(e,t,r,i,a,n,o,s,l,d){var c=function(e){e.naturalWidth;var t=e.naturalHeight,r=document.createElement("canvas");r.width=1,r.height=t;var i=r.getContext("2d");i.drawImage(e,0,0);for(var a=i.getImageData(1,0,1,t).data,n=0,o=t,s=t;s>n;){0===a[4*(s-1)+3]?o=s:n=s,s=o+n>>1}var l=s/t;return 0===l?1:l}(t);return e.drawImage(t,r,i,a,n,o,s,l,d/c)},g=function(){function e(){s(this,e)}return d(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(e){for(var t="",r=void 0,i=void 0,a="",n=void 0,o=void 0,s=void 0,l="",d=0;n=(r=e[d++])>>2,o=(3&r)<<4|(i=e[d++])>>4,s=(15&i)<<2|(a=e[d++])>>6,l=63&a,isNaN(i)?s=l=64:isNaN(a)&&(l=64),t=t+this.KEY_STR.charAt(n)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(l),r=i=a="",n=o=s=l="",d<e.length;);return t}},{key:"restore",value:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var r=this.decode64(e.replace("data:image/jpeg;base64,","")),i=this.slice2Segments(r),a=this.exifManipulation(t,i);return"data:image/jpeg;base64,".concat(this.encode64(a))}},{key:"exifManipulation",value:function(e,t){var r=this.getExifArray(t),i=this.insertExif(e,r);return new Uint8Array(i)}},{key:"getExifArray",value:function(e){for(var t=void 0,r=0;r<e.length;){if(255===(t=e[r])[0]&225===t[1])return t;r++}return[]}},{key:"insertExif",value:function(e,t){var r=e.replace("data:image/jpeg;base64,",""),i=this.decode64(r),a=i.indexOf(255,3),n=i.slice(0,a),o=i.slice(a),s=n;return s=(s=s.concat(t)).concat(o)}},{key:"slice2Segments",value:function(e){for(var t=0,r=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{var i=t+(256*e[t+2]+e[t+3])+2,a=e.slice(t,i);r.push(a),t=i}if(t>e.length)break}return r}},{key:"decode64",value:function(e){var t=void 0,r=void 0,i="",a=void 0,n=void 0,o="",s=0,l=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t=this.KEY_STR.indexOf(e.charAt(s++))<<2|(a=this.KEY_STR.indexOf(e.charAt(s++)))>>4,r=(15&a)<<4|(n=this.KEY_STR.indexOf(e.charAt(s++)))>>2,i=(3&n)<<6|(o=this.KEY_STR.indexOf(e.charAt(s++))),l.push(t),64!==n&&l.push(r),64!==o&&l.push(i),t=r=i="",a=n=o="",s<e.length;);return l}}]),e}();g.initClass();u._autoDiscoverFunction=function(){if(u.autoDiscover)return u.discover()},function(e,t){var r=!1,i=!0,a=e.document,n=a.documentElement,o=a.addEventListener?"addEventListener":"attachEvent",s=a.addEventListener?"removeEventListener":"detachEvent",l=a.addEventListener?"":"on",d=function i(n){if("readystatechange"!==n.type||"complete"===a.readyState)return("load"===n.type?e:a)[s](l+n.type,i,!1),!r&&(r=!0)?t.call(e,n.type||n):void 0};if("complete"!==a.readyState){if(a.createEventObject&&n.doScroll){try{i=!e.frameElement}catch(e){}i&&function e(){try{n.doScroll("left")}catch(t){return void setTimeout(e,50)}return d("poll")}()}a[o](l+"DOMContentLoaded",d,!1),a[o](l+"readystatechange",d,!1),e[o](l+"load",d,!1)}}(window,u._autoDiscoverFunction)}).call(this,r(0),r(127)(e))},504:function(e,t,r){var i,a,n;a=[r(0)],void 0===(n="function"==typeof(i=function(e){return function(e){"use strict";var t=e.tablesorter={version:"2.31.3",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",duplicateSpan:!0,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,initWidgets:!0,widgetClass:"widget-{name}",widgets:[],widgetOptions:{zebra:["even","odd"]},initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssIconDisabled:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[],globalize:0,imgAttr:0},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,null:0,top:!0,bottom:!1},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(r,i){if(r&&r.tHead&&0!==r.tBodies.length&&!0!==r.hasInitialized){var a,n="",o=e(r),s=e.metadata;r.hasInitialized=!1,r.isProcessing=!0,r.config=i,e.data(r,"tablesorter",i),t.debug(i,"core")&&(console[console.group?"group":"log"]("Initializing tablesorter v"+t.version),e.data(r,"startoveralltimer",new Date)),i.supportsDataObject=((a=e.fn.jquery.split("."))[0]=parseInt(a[0],10),a[0]>1||1===a[0]&&parseInt(a[1],10)>=4),i.emptyTo=i.emptyTo.toLowerCase(),i.stringTo=i.stringTo.toLowerCase(),i.last={sortList:[],clickedIndex:-1},/tablesorter\-/.test(o.attr("class"))||(n=""!==i.theme?" tablesorter-"+i.theme:""),i.namespace?i.namespace="."+i.namespace.replace(t.regex.nonWord,""):i.namespace=".tablesorter"+Math.random().toString(16).slice(2),i.table=r,i.$table=o.addClass(t.css.table+" "+i.tableClass+n+" "+i.namespace.slice(1)).attr("role","grid"),i.$headers=o.find(i.selectorHeaders),i.$table.children().children("tr").attr("role","row"),i.$tbodies=o.children("tbody:not(."+i.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),i.$table.children("caption").length&&((n=i.$table.children("caption")[0]).id||(n.id=i.namespace.slice(1)+"caption"),i.$table.attr("aria-labelledby",n.id)),i.widgetInit={},i.textExtraction=i.$table.attr("data-text-extraction")||i.textExtraction||"basic",t.buildHeaders(i),t.fixColumnWidth(r),t.addWidgetFromClass(r),t.applyWidgetOptions(r),t.setupParsers(i),i.totalRows=0,i.debug&&t.validateOptions(i),i.delayInit||t.buildCache(i),t.bindEvents(r,i.$headers,!0),t.bindMethods(i),i.supportsDataObject&&void 0!==o.data().sortlist?i.sortList=o.data().sortlist:s&&o.metadata()&&o.metadata().sortlist&&(i.sortList=o.metadata().sortlist),t.applyWidget(r,!0),i.sortList.length>0?(i.last.sortList=i.sortList,t.sortOn(i,i.sortList,{},!i.initWidgets)):(t.setHeadersCss(i),i.initWidgets&&t.applyWidget(r,!1)),i.showProcessing&&o.unbind("sortBegin"+i.namespace+" sortEnd"+i.namespace).bind("sortBegin"+i.namespace+" sortEnd"+i.namespace,(function(e){clearTimeout(i.timerProcessing),t.isProcessing(r),"sortBegin"===e.type&&(i.timerProcessing=setTimeout((function(){t.isProcessing(r,!0)}),500))})),r.hasInitialized=!0,r.isProcessing=!1,t.debug(i,"core")&&(console.log("Overall initialization time:"+t.benchmark(e.data(r,"startoveralltimer"))),t.debug(i,"core")&&console.groupEnd&&console.groupEnd()),o.triggerHandler("tablesorter-initialized",r),"function"==typeof i.initialized&&i.initialized(r)}else t.debug(i,"core")&&(r.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody",r))},bindMethods:function(r){var i=r.$table,a=r.namespace,n="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(a+" ");i.unbind(n.replace(t.regex.spaces," ")).bind("sortReset"+a,(function(e,r){e.stopPropagation(),t.sortReset(this.config,(function(e){e.isApplyingWidgets?setTimeout((function(){t.applyWidget(e,"",r)}),100):t.applyWidget(e,"",r)}))})).bind("updateAll"+a,(function(e,r,i){e.stopPropagation(),t.updateAll(this.config,r,i)})).bind("update"+a+" updateRows"+a,(function(e,r,i){e.stopPropagation(),t.update(this.config,r,i)})).bind("updateHeaders"+a,(function(e,r){e.stopPropagation(),t.updateHeaders(this.config,r)})).bind("updateCell"+a,(function(e,r,i,a){e.stopPropagation(),t.updateCell(this.config,r,i,a)})).bind("addRows"+a,(function(e,r,i,a){e.stopPropagation(),t.addRows(this.config,r,i,a)})).bind("updateComplete"+a,(function(){this.isUpdating=!1})).bind("sorton"+a,(function(e,r,i,a){e.stopPropagation(),t.sortOn(this.config,r,i,a)})).bind("appendCache"+a,(function(r,i,a){r.stopPropagation(),t.appendCache(this.config,a),e.isFunction(i)&&i(this)})).bind("updateCache"+a,(function(e,r,i){e.stopPropagation(),t.updateCache(this.config,r,i)})).bind("applyWidgetId"+a,(function(e,r){e.stopPropagation(),t.applyWidgetId(this,r)})).bind("applyWidgets"+a,(function(e,r){e.stopPropagation(),t.applyWidget(this,!1,r)})).bind("refreshWidgets"+a,(function(e,r,i){e.stopPropagation(),t.refreshWidgets(this,r,i)})).bind("removeWidget"+a,(function(e,r,i){e.stopPropagation(),t.removeWidget(this,r,i)})).bind("destroy"+a,(function(e,r,i){e.stopPropagation(),t.destroy(this,r,i)})).bind("resetToLoadState"+a,(function(i){i.stopPropagation(),t.removeWidget(this,!0,!1);var a=e.extend(!0,{},r.originalSettings);(r=e.extend(!0,{},t.defaults,a)).originalSettings=a,this.hasInitialized=!1,t.setup(this,r)}))},bindEvents:function(r,i,a){var n,o=(r=e(r)[0]).config,s=o.namespace,l=null;!0!==a&&(i.addClass(s.slice(1)+"_extra_headers"),(n=t.getClosest(i,"table")).length&&"TABLE"===n[0].nodeName&&n[0]!==r&&e(n[0]).addClass(s.slice(1)+"_extra_table")),n=(o.pointerDown+" "+o.pointerUp+" "+o.pointerClick+" sort keyup ").replace(t.regex.spaces," ").split(" ").join(s+" "),i.find(o.selectorSort).add(i.filter(o.selectorSort)).unbind(n).bind(n,(function(r,i){var a,n,s,d=e(r.target),c=" "+r.type+" ";if(!(1!==(r.which||r.button)&&!c.match(" "+o.pointerClick+" | sort | keyup ")||" keyup "===c&&r.which!==t.keyCodes.enter||c.match(" "+o.pointerClick+" ")&&void 0!==r.which||c.match(" "+o.pointerUp+" ")&&l!==r.target&&!0!==i)){if(c.match(" "+o.pointerDown+" "))return l=r.target,void("1"===(s=d.jquery.split("."))[0]&&s[1]<4&&r.preventDefault());if(l=null,a=t.getClosest(e(this),"."+t.css.header),t.regex.formElements.test(r.target.nodeName)||d.hasClass(o.cssNoSort)||d.parents("."+o.cssNoSort).length>0||a.hasClass("sorter-false")||d.parents("button").length>0)return!o.cancelSelection;o.delayInit&&t.isEmptyObject(o.cache)&&t.buildCache(o),o.last.clickedIndex=a.attr("data-column")||a.index(),(n=o.$headerIndexed[o.last.clickedIndex][0])&&!n.sortDisabled&&t.initSort(o,n,r)}})),o.cancelSelection&&i.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},buildHeaders:function(r){var i,a,n,o;for(r.headerList=[],r.headerContent=[],r.sortVars=[],t.debug(r,"core")&&(n=new Date),r.columns=t.computeColumnIndex(r.$table.children("thead, tfoot").children("tr")),a=r.cssIcon?'<i class="'+(r.cssIcon===t.css.icon?t.css.icon:r.cssIcon+" "+t.css.icon)+'"></i>':"",r.$headers=e(e.map(r.$table.find(r.selectorHeaders),(function(i,n){var o,s,l,d,c,u=e(i);if(!t.getClosest(u,"tr").hasClass(r.cssIgnoreRow))return/(th|td)/i.test(i.nodeName)||(c=t.getClosest(u,"th, td"),u.attr("data-column",c.attr("data-column"))),o=t.getColumnData(r.table,r.headers,n,!0),r.headerContent[n]=u.html(),""===r.headerTemplate||u.find("."+t.css.headerIn).length||(d=r.headerTemplate.replace(t.regex.templateContent,u.html()).replace(t.regex.templateIcon,u.find("."+t.css.icon).length?"":a),r.onRenderTemplate&&(s=r.onRenderTemplate.apply(u,[n,d]))&&"string"==typeof s&&(d=s),u.html('<div class="'+t.css.headerIn+'">'+d+"</div>")),r.onRenderHeader&&r.onRenderHeader.apply(u,[n,r,r.$table]),l=parseInt(u.attr("data-column"),10),i.column=l,c=t.getOrder(t.getData(u,o,"sortInitialOrder")||r.sortInitialOrder),r.sortVars[l]={count:-1,order:c?r.sortReset?[1,0,2]:[1,0]:r.sortReset?[0,1,2]:[0,1],lockedOrder:!1,sortedBy:""},void 0!==(c=t.getData(u,o,"lockedOrder")||!1)&&!1!==c&&(r.sortVars[l].lockedOrder=!0,r.sortVars[l].order=t.getOrder(c)?[1,1]:[0,0]),r.headerList[n]=i,u.addClass(t.css.header+" "+r.cssHeader),t.getClosest(u,"tr").addClass(t.css.headerRow+" "+r.cssHeaderRow).attr("role","row"),r.tabIndex&&u.attr("tabindex",0),i}))),r.$headerIndexed=[],o=0;o<r.columns;o++)t.isEmptyObject(r.sortVars[o])&&(r.sortVars[o]={}),i=r.$headers.filter('[data-column="'+o+'"]'),r.$headerIndexed[o]=i.length?i.not(".sorter-false").length?i.not(".sorter-false").filter(":last"):i.filter(":last"):e();r.$table.find(r.selectorHeaders).attr({scope:"col",role:"columnheader"}),t.updateHeader(r),t.debug(r,"core")&&(console.log("Built headers:"+t.benchmark(n)),console.log(r.$headers))},addInstanceMethods:function(r){e.extend(t.instanceMethods,r)},setupParsers:function(e,r){var i,a,n,o,s,l,d,c,u,f,p,h,g,m,v=e.table,b=0,y=t.debug(e,"core"),_={};if(e.$tbodies=e.$table.children("tbody:not(."+e.cssInfoBlock+")"),0===(m=(g=void 0===r?e.$tbodies:r).length))return y?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(y&&(h=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),a={extractors:[],parsers:[]};b<m;){if((i=g[b].rows).length)for(s=0,o=e.columns,l=0;l<o;l++){if((d=e.$headerIndexed[s])&&d.length&&(c=t.getColumnData(v,e.headers,s),p=t.getParserById(t.getData(d,c,"extractor")),f=t.getParserById(t.getData(d,c,"sorter")),u="false"===t.getData(d,c,"parser"),e.empties[s]=(t.getData(d,c,"empty")||e.emptyTo||(e.emptyToBottom?"bottom":"top")).toLowerCase(),e.strings[s]=(t.getData(d,c,"string")||e.stringTo||"max").toLowerCase(),u&&(f=t.getParserById("no-parser")),p||(p=!1),f||(f=t.detectParserForColumn(e,i,-1,s)),y&&(_["("+s+") "+d.text()]={parser:f.id,extractor:p?p.id:"none",string:e.strings[s],empty:e.empties[s]}),a.parsers[s]=f,a.extractors[s]=p,(n=d[0].colSpan-1)>0))for(s+=n,o+=n;n+1>0;)a.parsers[s-n]=f,a.extractors[s-n]=p,n--;s++}b+=a.parsers.length?m:1}y&&(t.isEmptyObject(_)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](_),console.log("Completed detecting parsers"+t.benchmark(h)),console.groupEnd&&console.groupEnd()),e.parsers=a.parsers,e.extractors=a.extractors},addParser:function(e){var r,i=t.parsers.length,a=!0;for(r=0;r<i;r++)t.parsers[r].id.toLowerCase()===e.id.toLowerCase()&&(a=!1);a&&(t.parsers[t.parsers.length]=e)},getParserById:function(e){if("false"==e)return!1;var r,i=t.parsers.length;for(r=0;r<i;r++)if(t.parsers[r].id.toLowerCase()===e.toString().toLowerCase())return t.parsers[r];return!1},detectParserForColumn:function(r,i,a,n){for(var o,s,l,d=t.parsers.length,c=!1,u="",f=t.debug(r,"core"),p=!0;""===u&&p;)(l=i[++a])&&a<50?l.className.indexOf(t.cssIgnoreRow)<0&&(c=i[a].cells[n],u=t.getElementText(r,c,n),s=e(c),f&&console.log("Checking if value was empty on row "+a+", column: "+n+': "'+u+'"')):p=!1;for(;--d>=0;)if((o=t.parsers[d])&&"text"!==o.id&&o.is&&o.is(u,r.table,c,s))return o;return t.getParserById("text")},getElementText:function(r,i,a){if(!i)return"";var n,o=r.textExtraction||"",s=i.jquery?i:e(i);return"string"==typeof o?"basic"===o&&void 0!==(n=s.attr(r.textAttribute))?e.trim(n):e.trim(i.textContent||s.text()):"function"==typeof o?e.trim(o(s[0],r.table,a)):"function"==typeof(n=t.getColumnData(r.table,o,a))?e.trim(n(s[0],r.table,a)):e.trim(s[0].textContent||s.text())},getParsedText:function(e,r,i,a){void 0===a&&(a=t.getElementText(e,r,i));var n=""+a,o=e.parsers[i],s=e.extractors[i];return o&&(s&&"function"==typeof s.format&&(a=s.format(a,e.table,r,i)),n="no-parser"===o.id?"":o.format(""+a,e.table,r,i),e.ignoreCase&&"string"==typeof n&&(n=n.toLowerCase())),n},buildCache:function(r,i,a){var n,o,s,l,d,c,u,f,p,h,g,m,v,b,y,_,w,x,C,k,F,S,z=r.table,T=r.parsers,I=t.debug(r,"core");if(r.$tbodies=r.$table.children("tbody:not(."+r.cssInfoBlock+")"),u=void 0===a?r.$tbodies:a,r.cache={},r.totalRows=0,!T)return I?console.warn("Warning: *Empty table!* Not building a cache"):"";for(I&&(m=new Date),r.showProcessing&&t.isProcessing(z,!0),c=0;c<u.length;c++){for(_=[],n=r.cache[c]={normalized:[]},v=u[c]&&u[c].rows.length||0,l=0;l<v;++l)if(b={child:[],raw:[]},p=[],!(f=e(u[c].rows[l])).hasClass(r.selectorRemove.slice(1)))if(f.hasClass(r.cssChildRow)&&0!==l)for(F=n.normalized.length-1,(y=n.normalized[F][r.columns]).$row=y.$row.add(f),f.prev().hasClass(r.cssChildRow)||f.prev().addClass(t.css.cssHasChild),h=f.children("th, td"),F=y.child.length,y.child[F]=[],x=0,k=r.columns,d=0;d<k;d++)(g=h[d])&&(y.child[F][d]=t.getParsedText(r,g,d),(w=h[d].colSpan-1)>0&&(x+=w,k+=w)),x++;else{for(b.$row=f,b.order=l,x=0,k=r.columns,d=0;d<k;++d){if((g=f[0].cells[d])&&x<r.columns&&(!(C=void 0!==T[x])&&I&&console.warn("No parser found for row: "+l+", column: "+d+'; cell containing: "'+e(g).text()+'"; does it have a header?'),o=t.getElementText(r,g,x),b.raw[x]=o,s=t.getParsedText(r,g,x,o),p[x]=s,C&&"numeric"===(T[x].type||"").toLowerCase()&&(_[x]=Math.max(Math.abs(s)||0,_[x]||0)),(w=g.colSpan-1)>0)){for(S=0;S<=w;)s=r.duplicateSpan||0===S?s:"string"!=typeof r.textExtraction&&t.getElementText(r,g,x+S)||"",b.raw[x+S]=s,p[x+S]=s,S++;x+=w,k+=w}x++}p[r.columns]=b,n.normalized[n.normalized.length]=p}n.colMax=_,r.totalRows+=n.normalized.length}if(r.showProcessing&&t.isProcessing(z),I){for(F=Math.min(5,r.cache[0].normalized.length),console[console.group?"group":"log"]("Building cache for "+r.totalRows+" rows (showing "+F+" rows in log) and "+r.columns+" columns"+t.benchmark(m)),o={},d=0;d<r.columns;d++)for(x=0;x<F;x++)o["row: "+x]||(o["row: "+x]={}),o["row: "+x][r.$headerIndexed[d].text()]=r.cache[0].normalized[x][d];console[console.table?"table":"log"](o),console.groupEnd&&console.groupEnd()}e.isFunction(i)&&i(z)},getColumnText:function(r,i,a,n){var o,s,l,d,c,u,f,p,h,g,m="function"==typeof a,v="all"===i,b={raw:[],parsed:[],$cell:[]},y=(r=e(r)[0]).config;if(!t.isEmptyObject(y)){for(c=y.$tbodies.length,o=0;o<c;o++)for(u=(l=y.cache[o].normalized).length,s=0;s<u;s++)d=l[s],n&&!d[y.columns].$row.is(n)||(g=!0,p=v?d.slice(0,y.columns):d[i],d=d[y.columns],f=v?d.raw:d.raw[i],h=v?d.$row.children():d.$row.children().eq(i),m&&(g=a({tbodyIndex:o,rowIndex:s,parsed:p,raw:f,$row:d.$row,$cell:h})),!1!==g&&(b.parsed[b.parsed.length]=p,b.raw[b.raw.length]=f,b.$cell[b.$cell.length]=h));return b}t.debug(y,"core")&&console.warn("No cache found - aborting getColumnText function!")},setHeadersCss:function(r){var i,a,n=r.sortList,o=n.length,s=t.css.sortNone+" "+r.cssNone,l=[t.css.sortAsc+" "+r.cssAsc,t.css.sortDesc+" "+r.cssDesc],d=[r.cssIconAsc,r.cssIconDesc,r.cssIconNone],c=["ascending","descending"],u=function(e,r){e.removeClass(s).addClass(l[r]).attr("aria-sort",c[r]).find("."+t.css.icon).removeClass(d[2]).addClass(d[r])},f=r.$table.find("tfoot tr").children("td, th").add(e(r.namespace+"_extra_headers")).removeClass(l.join(" ")),p=r.$headers.add(e("thead "+r.namespace+"_extra_headers")).removeClass(l.join(" ")).addClass(s).attr("aria-sort","none").find("."+t.css.icon).removeClass(d.join(" ")).end();for(p.not(".sorter-false").find("."+t.css.icon).addClass(d[2]),r.cssIconDisabled&&p.filter(".sorter-false").find("."+t.css.icon).addClass(r.cssIconDisabled),i=0;i<o;i++)if(2!==n[i][1]){if((p=(p=r.$headers.filter((function(e){for(var i=!0,a=r.$headers.eq(e),n=parseInt(a.attr("data-column"),10),o=n+t.getClosest(a,"th, td")[0].colSpan;n<o;n++)i=!!i&&(i||t.isValueInArray(n,r.sortList)>-1);return i}))).not(".sorter-false").filter('[data-column="'+n[i][0]+'"]'+(1===o?":last":""))).length)for(a=0;a<p.length;a++)p[a].sortDisabled||u(p.eq(a),n[i][1]);f.length&&u(f.filter('[data-column="'+n[i][0]+'"]'),n[i][1])}for(o=r.$headers.length,i=0;i<o;i++)t.setColumnAriaLabel(r,r.$headers.eq(i))},getClosest:function(t,r){return e.fn.closest?t.closest(r):t.is(r)?t:t.parents(r).filter(":first")},setColumnAriaLabel:function(r,i,a){if(i.length){var n=parseInt(i.attr("data-column"),10),o=r.sortVars[n],s=i.hasClass(t.css.sortAsc)?"sortAsc":i.hasClass(t.css.sortDesc)?"sortDesc":"sortNone",l=e.trim(i.text())+": "+t.language[s];i.hasClass("sorter-false")||!1===a?l+=t.language.sortDisabled:(s=(o.count+1)%o.order.length,a=o.order[s],l+=t.language[0===a?"nextAsc":1===a?"nextDesc":"nextNone"]),i.attr("aria-label",l),o.sortedBy?i.attr("data-sortedBy",o.sortedBy):i.removeAttr("data-sortedBy")}},updateHeader:function(e){var r,i,a,n,o=e.table,s=e.$headers.length;for(r=0;r<s;r++)a=e.$headers.eq(r),n=t.getColumnData(o,e.headers,r,!0),i="false"===t.getData(a,n,"sorter")||"false"===t.getData(a,n,"parser"),t.setColumnSort(e,a,i)},setColumnSort:function(e,t,r){var i=e.table.id;t[0].sortDisabled=r,t[r?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+r),e.tabIndex&&(r?t.removeAttr("tabindex"):t.attr("tabindex","0")),i&&(r?t.removeAttr("aria-controls"):t.attr("aria-controls",i))},updateHeaderSortCount:function(r,i){var a,n,o,s,l,d,c,u,f=i||r.sortList,p=f.length;for(r.sortList=[],s=0;s<p;s++)if(c=f[s],(a=parseInt(c[0],10))<r.columns){switch(r.sortVars[a].order||(u=t.getOrder(r.sortInitialOrder)?r.sortReset?[1,0,2]:[1,0]:r.sortReset?[0,1,2]:[0,1],r.sortVars[a].order=u,r.sortVars[a].count=0),u=r.sortVars[a].order,n=(n=(""+c[1]).match(/^(1|d|s|o|n)/))?n[0]:""){case"1":case"d":n=1;break;case"s":n=l||0;break;case"o":n=0===(d=u[(l||0)%u.length])?1:1===d?0:2;break;case"n":n=u[++r.sortVars[a].count%u.length];break;default:n=0}l=0===s?n:l,o=[a,parseInt(n,10)||0],r.sortList[r.sortList.length]=o,n=e.inArray(o[1],u),r.sortVars[a].count=n>=0?n:o[1]%u.length}},updateAll:function(e,r,i){var a=e.table;a.isUpdating=!0,t.refreshWidgets(a,!0,!0),t.buildHeaders(e),t.bindEvents(a,e.$headers,!0),t.bindMethods(e),t.commonUpdate(e,r,i)},update:function(e,r,i){e.table.isUpdating=!0,t.updateHeader(e),t.commonUpdate(e,r,i)},updateHeaders:function(e,r){e.table.isUpdating=!0,t.buildHeaders(e),t.bindEvents(e.table,e.$headers,!0),t.resortComplete(e,r)},updateCell:function(r,i,a,n){if(e(i).closest("tr").hasClass(r.cssChildRow))console.warn('Tablesorter Warning! "updateCell" for child row content has been disabled, use "update" instead');else{if(t.isEmptyObject(r.cache))return t.updateHeader(r),void t.commonUpdate(r,a,n);r.table.isUpdating=!0,r.$table.find(r.selectorRemove).remove();var o,s,l,d,c,u,f=r.$tbodies,p=e(i),h=f.index(t.getClosest(p,"tbody")),g=r.cache[h],m=t.getClosest(p,"tr");if(i=p[0],f.length&&h>=0){if(l=f.eq(h).find("tr").not("."+r.cssChildRow).index(m),c=g.normalized[l],(u=m[0].cells.length)!==r.columns)for(d=0,o=!1,s=0;s<u;s++)o||m[0].cells[s]===i?o=!0:d+=m[0].cells[s].colSpan;else d=p.index();o=t.getElementText(r,i,d),c[r.columns].raw[d]=o,o=t.getParsedText(r,i,d,o),c[d]=o,"numeric"===(r.parsers[d].type||"").toLowerCase()&&(g.colMax[d]=Math.max(Math.abs(o)||0,g.colMax[d]||0)),!1!==(o="undefined"!==a?a:r.resort)?t.checkResort(r,o,n):t.resortComplete(r,n)}else t.debug(r,"core")&&console.error("updateCell aborted, tbody missing or not within the indicated table"),r.table.isUpdating=!1}},addRows:function(r,i,a,n){var o,s,l,d,c,u,f,p,h,g,m,v,b,y="string"==typeof i&&1===r.$tbodies.length&&/<tr/.test(i||""),_=r.table;if(y)i=e(i),r.$tbodies.append(i);else if(!(i&&i instanceof e&&t.getClosest(i,"table")[0]===r.table))return t.debug(r,"core")&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(_.isUpdating=!0,t.isEmptyObject(r.cache))t.updateHeader(r),t.commonUpdate(r,a,n);else{for(c=i.filter("tr").attr("role","row").length,l=r.$tbodies.index(i.parents("tbody").filter(":first")),r.parsers&&r.parsers.length||t.setupParsers(r),d=0;d<c;d++){for(h=0,f=i[d].cells.length,p=r.cache[l].normalized.length,m=[],g={child:[],raw:[],$row:i.eq(d),order:p},u=0;u<f;u++)v=i[d].cells[u],o=t.getElementText(r,v,h),g.raw[h]=o,s=t.getParsedText(r,v,h,o),m[h]=s,"numeric"===(r.parsers[h].type||"").toLowerCase()&&(r.cache[l].colMax[h]=Math.max(Math.abs(s)||0,r.cache[l].colMax[h]||0)),(b=v.colSpan-1)>0&&(h+=b),h++;m[r.columns]=g,r.cache[l].normalized[p]=m}t.checkResort(r,a,n)}},updateCache:function(e,r,i){e.parsers&&e.parsers.length||t.setupParsers(e,i),t.buildCache(e,r,i)},appendCache:function(e,r){var i,a,n,o,s,l,d,c=e.table,u=e.$tbodies,f=[],p=e.cache;if(t.isEmptyObject(p))return e.appender?e.appender(c,f):c.isUpdating?e.$table.triggerHandler("updateComplete",c):"";for(t.debug(e,"core")&&(d=new Date),l=0;l<u.length;l++)if((n=u.eq(l)).length){for(o=t.processTbody(c,n,!0),a=(i=p[l].normalized).length,s=0;s<a;s++)f[f.length]=i[s][e.columns].$row,e.appender&&(!e.pager||e.pager.removeRows||e.pager.ajax)||o.append(i[s][e.columns].$row);t.processTbody(c,o,!1)}e.appender&&e.appender(c,f),t.debug(e,"core")&&console.log("Rebuilt table"+t.benchmark(d)),r||e.appender||t.applyWidget(c),c.isUpdating&&e.$table.triggerHandler("updateComplete",c)},commonUpdate:function(e,r,i){e.$table.find(e.selectorRemove).remove(),t.setupParsers(e),t.buildCache(e),t.checkResort(e,r,i)},initSort:function(r,i,a){if(r.table.isUpdating)return setTimeout((function(){t.initSort(r,i,a)}),50);var n,o,s,l,d,c,u,f=!a[r.sortMultiSortKey],p=r.table,h=r.$headers.length,g=t.getClosest(e(i),"th, td"),m=parseInt(g.attr("data-column"),10),v="mouseup"===a.type?"user":a.type,b=r.sortVars[m].order;if(g=g[0],r.$table.triggerHandler("sortStart",p),c=(r.sortVars[m].count+1)%b.length,r.sortVars[m].count=a[r.sortResetKey]?2:c,r.sortRestart)for(s=0;s<h;s++)u=r.$headers.eq(s),m!==(c=parseInt(u.attr("data-column"),10))&&(f||u.hasClass(t.css.sortNone))&&(r.sortVars[c].count=-1);if(f){if(e.each(r.sortVars,(function(e){r.sortVars[e].sortedBy=""})),r.sortList=[],r.last.sortList=[],null!==r.sortForce)for(n=r.sortForce,o=0;o<n.length;o++)n[o][0]!==m&&(r.sortList[r.sortList.length]=n[o],r.sortVars[n[o][0]].sortedBy="sortForce");if((l=b[r.sortVars[m].count])<2&&(r.sortList[r.sortList.length]=[m,l],r.sortVars[m].sortedBy=v,g.colSpan>1))for(o=1;o<g.colSpan;o++)r.sortList[r.sortList.length]=[m+o,l],r.sortVars[m+o].count=e.inArray(l,b),r.sortVars[m+o].sortedBy=v}else if(r.sortList=e.extend([],r.last.sortList),t.isValueInArray(m,r.sortList)>=0)for(r.sortVars[m].sortedBy=v,o=0;o<r.sortList.length;o++)(c=r.sortList[o])[0]===m&&(c[1]=b[r.sortVars[m].count],2===c[1]&&(r.sortList.splice(o,1),r.sortVars[m].count=-1));else if(l=b[r.sortVars[m].count],r.sortVars[m].sortedBy=v,l<2&&(r.sortList[r.sortList.length]=[m,l],g.colSpan>1))for(o=1;o<g.colSpan;o++)r.sortList[r.sortList.length]=[m+o,l],r.sortVars[m+o].count=e.inArray(l,b),r.sortVars[m+o].sortedBy=v;if(r.last.sortList=e.extend([],r.sortList),r.sortList.length&&r.sortAppend&&(n=e.isArray(r.sortAppend)?r.sortAppend:r.sortAppend[r.sortList[0][0]],!t.isEmptyObject(n)))for(o=0;o<n.length;o++)if(n[o][0]!==m&&t.isValueInArray(n[o][0],r.sortList)<0){if(d=(""+(l=n[o][1])).match(/^(a|d|s|o|n)/))switch(c=r.sortList[0][1],d[0]){case"d":l=1;break;case"s":l=c;break;case"o":l=0===c?1:0;break;case"n":l=(c+1)%b.length;break;default:l=0}r.sortList[r.sortList.length]=[n[o][0],l],r.sortVars[n[o][0]].sortedBy="sortAppend"}r.$table.triggerHandler("sortBegin",p),setTimeout((function(){t.setHeadersCss(r),t.multisort(r),t.appendCache(r),r.$table.triggerHandler("sortBeforeEnd",p),r.$table.triggerHandler("sortEnd",p)}),1)},multisort:function(e){var r,i,a,n,o=e.table,s=[],l=0,d=e.textSorter||"",c=e.sortList,u=c.length,f=e.$tbodies.length;if(!e.serverSideSorting&&!t.isEmptyObject(e.cache)){if(t.debug(e,"core")&&(i=new Date),"object"==typeof d)for(a=e.columns;a--;)"function"==typeof(n=t.getColumnData(o,d,a))&&(s[a]=n);for(r=0;r<f;r++)a=e.cache[r].colMax,e.cache[r].normalized.sort((function(r,i){var n,f,p,h,g,m,v;for(n=0;n<u;n++){if(p=c[n][0],h=c[n][1],l=0===h,e.sortStable&&r[p]===i[p]&&1===u)return r[e.columns].order-i[e.columns].order;if((f=/n/i.test(t.getSortType(e.parsers,p)))&&e.strings[p]?(f="boolean"==typeof t.string[e.strings[p]]?(l?1:-1)*(t.string[e.strings[p]]?-1:1):e.strings[p]&&t.string[e.strings[p]]||0,g=e.numberSorter?e.numberSorter(r[p],i[p],l,a[p],o):t["sortNumeric"+(l?"Asc":"Desc")](r[p],i[p],f,a[p],p,e)):(m=l?r:i,v=l?i:r,g="function"==typeof d?d(m[p],v[p],l,p,o):"function"==typeof s[p]?s[p](m[p],v[p],l,p,o):t["sortNatural"+(l?"Asc":"Desc")](r[p]||"",i[p]||"",p,e)),g)return g}return r[e.columns].order-i[e.columns].order}));t.debug(e,"core")&&console.log("Applying sort "+c.toString()+t.benchmark(i))}},resortComplete:function(t,r){t.table.isUpdating&&t.$table.triggerHandler("updateComplete",t.table),e.isFunction(r)&&r(t.table)},checkResort:function(r,i,a){var n=e.isArray(i)?i:r.sortList;!1===(void 0===i?r.resort:i)||r.serverSideSorting||r.table.isProcessing?(t.resortComplete(r,a),t.applyWidget(r.table,!1)):n.length?t.sortOn(r,n,(function(){t.resortComplete(r,a)}),!0):t.sortReset(r,(function(){t.resortComplete(r,a),t.applyWidget(r.table,!1)}))},sortOn:function(r,i,a,n){var o,s=r.table;for(r.$table.triggerHandler("sortStart",s),o=0;o<r.columns;o++)r.sortVars[o].sortedBy=t.isValueInArray(o,i)>-1?"sorton":"";t.updateHeaderSortCount(r,i),t.setHeadersCss(r),r.delayInit&&t.isEmptyObject(r.cache)&&t.buildCache(r),r.$table.triggerHandler("sortBegin",s),t.multisort(r),t.appendCache(r,n),r.$table.triggerHandler("sortBeforeEnd",s),r.$table.triggerHandler("sortEnd",s),t.applyWidget(s),e.isFunction(a)&&a(s)},sortReset:function(r,i){var a;for(r.sortList=[],a=0;a<r.columns;a++)r.sortVars[a].count=-1,r.sortVars[a].sortedBy="";t.setHeadersCss(r),t.multisort(r),t.appendCache(r),e.isFunction(i)&&i(r.table)},getSortType:function(e,t){return e&&e[t]&&e[t].type||""},getOrder:function(e){return/^d/i.test(e)||1===e},sortNatural:function(e,r){if(e===r)return 0;e=(e||"").toString(),r=(r||"").toString();var i,a,n,o,s,l,d=t.regex;if(d.hex.test(r)){if((i=parseInt(e.match(d.hex),16))<(a=parseInt(r.match(d.hex),16)))return-1;if(i>a)return 1}for(i=e.replace(d.chunk,"\\0$1\\0").replace(d.chunks,"").split("\\0"),a=r.replace(d.chunk,"\\0$1\\0").replace(d.chunks,"").split("\\0"),l=Math.max(i.length,a.length),s=0;s<l;s++){if(n=isNaN(i[s])?i[s]||0:parseFloat(i[s])||0,o=isNaN(a[s])?a[s]||0:parseFloat(a[s])||0,isNaN(n)!==isNaN(o))return isNaN(n)?1:-1;if(typeof n!=typeof o&&(n+="",o+=""),n<o)return-1;if(n>o)return 1}return 0},sortNaturalAsc:function(e,r,i,a){if(e===r)return 0;var n=t.string[a.empties[i]||a.emptyTo];return""===e&&0!==n?"boolean"==typeof n?n?-1:1:-n||-1:""===r&&0!==n?"boolean"==typeof n?n?1:-1:n||1:t.sortNatural(e,r)},sortNaturalDesc:function(e,r,i,a){if(e===r)return 0;var n=t.string[a.empties[i]||a.emptyTo];return""===e&&0!==n?"boolean"==typeof n?n?-1:1:n||1:""===r&&0!==n?"boolean"==typeof n?n?1:-1:-n||-1:t.sortNatural(r,e)},sortText:function(e,t){return e>t?1:e<t?-1:0},getTextValue:function(e,t,r){if(r){var i,a=e?e.length:0,n=r+t;for(i=0;i<a;i++)n+=e.charCodeAt(i);return t*n}return 0},sortNumericAsc:function(e,r,i,a,n,o){if(e===r)return 0;var s=t.string[o.empties[n]||o.emptyTo];return""===e&&0!==s?"boolean"==typeof s?s?-1:1:-s||-1:""===r&&0!==s?"boolean"==typeof s?s?1:-1:s||1:(isNaN(e)&&(e=t.getTextValue(e,i,a)),isNaN(r)&&(r=t.getTextValue(r,i,a)),e-r)},sortNumericDesc:function(e,r,i,a,n,o){if(e===r)return 0;var s=t.string[o.empties[n]||o.emptyTo];return""===e&&0!==s?"boolean"==typeof s?s?-1:1:s||1:""===r&&0!==s?"boolean"==typeof s?s?1:-1:-s||-1:(isNaN(e)&&(e=t.getTextValue(e,i,a)),isNaN(r)&&(r=t.getTextValue(r,i,a)),r-e)},sortNumeric:function(e,t){return e-t},addWidget:function(e){e.id&&!t.isEmptyObject(t.getWidgetById(e.id))&&console.warn('"'+e.id+'" widget was loaded more than once!'),t.widgets[t.widgets.length]=e},hasWidget:function(t,r){return(t=e(t)).length&&t[0].config&&t[0].config.widgetInit[r]||!1},getWidgetById:function(e){var r,i,a=t.widgets.length;for(r=0;r<a;r++)if((i=t.widgets[r])&&i.id&&i.id.toLowerCase()===e.toLowerCase())return i},applyWidgetOptions:function(r){var i,a,n,o=r.config,s=o.widgets.length;if(s)for(i=0;i<s;i++)(a=t.getWidgetById(o.widgets[i]))&&a.options&&(n=e.extend(!0,{},a.options),o.widgetOptions=e.extend(!0,n,o.widgetOptions),e.extend(!0,t.defaults.widgetOptions,a.options))},addWidgetFromClass:function(e){var r,i,a=e.config,n="^"+a.widgetClass.replace(t.regex.templateName,"(\\S+)+")+"$",o=new RegExp(n,"g"),s=(e.className||"").split(t.regex.spaces);if(s.length)for(r=s.length,i=0;i<r;i++)s[i].match(o)&&(a.widgets[a.widgets.length]=s[i].replace(o,"$1"))},applyWidgetId:function(r,i,a){var n,o,s,l=(r=e(r)[0]).config,d=l.widgetOptions,c=t.debug(l,"core"),u=t.getWidgetById(i);u&&(s=u.id,n=!1,e.inArray(s,l.widgets)<0&&(l.widgets[l.widgets.length]=s),c&&(o=new Date),!a&&l.widgetInit[s]||(l.widgetInit[s]=!0,r.hasInitialized&&t.applyWidgetOptions(r),"function"==typeof u.init&&(n=!0,c&&console[console.group?"group":"log"]("Initializing "+s+" widget"),u.init(r,u,l,d))),a||"function"!=typeof u.format||(n=!0,c&&console[console.group?"group":"log"]("Updating "+s+" widget"),u.format(r,l,d,!1)),c&&n&&(console.log("Completed "+(a?"initializing ":"applying ")+s+" widget"+t.benchmark(o)),console.groupEnd&&console.groupEnd()))},applyWidget:function(r,i,a){var n,o,s,l,d,c=(r=e(r)[0]).config,u=t.debug(c,"core"),f=[];if(!1===i||!r.hasInitialized||!r.isApplyingWidgets&&!r.isUpdating){if(u&&(d=new Date),t.addWidgetFromClass(r),clearTimeout(c.timerReady),c.widgets.length){for(r.isApplyingWidgets=!0,c.widgets=e.grep(c.widgets,(function(t,r){return e.inArray(t,c.widgets)===r})),o=(s=c.widgets||[]).length,n=0;n<o;n++)(l=t.getWidgetById(s[n]))&&l.id?(l.priority||(l.priority=10),f[n]=l):u&&console.warn('"'+s[n]+'" was enabled, but the widget code has not been loaded!');for(f.sort((function(e,t){return e.priority<t.priority?-1:e.priority===t.priority?0:1})),o=f.length,u&&console[console.group?"group":"log"]("Start "+(i?"initializing":"applying")+" widgets"),n=0;n<o;n++)(l=f[n])&&l.id&&t.applyWidgetId(r,l.id,i);u&&console.groupEnd&&console.groupEnd()}c.timerReady=setTimeout((function(){r.isApplyingWidgets=!1,e.data(r,"lastWidgetApplication",new Date),c.$table.triggerHandler("tablesorter-ready"),i||"function"!=typeof a||a(r),u&&(l=c.widgets.length,console.log("Completed "+(!0===i?"initializing ":"applying ")+l+" widget"+(1!==l?"s":"")+t.benchmark(d)))}),10)}},removeWidget:function(r,i,a){var n,o,s,l,d=(r=e(r)[0]).config;if(!0===i)for(i=[],l=t.widgets.length,s=0;s<l;s++)(o=t.widgets[s])&&o.id&&(i[i.length]=o.id);else i=(e.isArray(i)?i.join(","):i||"").toLowerCase().split(/[\s,]+/);for(l=i.length,n=0;n<l;n++)o=t.getWidgetById(i[n]),(s=e.inArray(i[n],d.widgets))>=0&&!0!==a&&d.widgets.splice(s,1),o&&o.remove&&(t.debug(d,"core")&&console.log((a?"Refreshing":"Removing")+' "'+i[n]+'" widget'),o.remove(r,d,d.widgetOptions,a),d.widgetInit[i[n]]=!1);d.$table.triggerHandler("widgetRemoveEnd",r)},refreshWidgets:function(r,i,a){var n,o,s=(r=e(r)[0]).config.widgets,l=t.widgets,d=l.length,c=[],u=function(t){e(t).triggerHandler("refreshComplete")};for(n=0;n<d;n++)(o=l[n])&&o.id&&(i||e.inArray(o.id,s)<0)&&(c[c.length]=o.id);t.removeWidget(r,c.join(","),!0),!0!==a?(t.applyWidget(r,i||!1,u),i&&t.applyWidget(r,!1,u)):u(r)},benchmark:function(e){return" ("+((new Date).getTime()-e.getTime())+" ms)"},log:function(){console.log(arguments)},debug:function(e,t){return e&&(!0===e.debug||"string"==typeof e.debug&&e.debug.indexOf(t)>-1)},isEmptyObject:function(e){for(var t in e)return!1;return!0},isValueInArray:function(e,t){var r,i=t&&t.length||0;for(r=0;r<i;r++)if(t[r][0]===e)return r;return-1},formatFloat:function(r,i){return"string"!=typeof r||""===r?r:(r=(i&&i.config?!1!==i.config.usNumberFormat:void 0===i||i)?r.replace(t.regex.comma,""):r.replace(t.regex.digitNonUS,"").replace(t.regex.comma,"."),t.regex.digitNegativeTest.test(r)&&(r=r.replace(t.regex.digitNegativeReplace,"-$1")),a=parseFloat(r),isNaN(a)?e.trim(r):a);var a},isDigit:function(e){return isNaN(e)?t.regex.digitTest.test(e.toString().replace(t.regex.digitReplace,"")):""!==e},computeColumnIndex:function(r,i){var a,n,o,s,l,d,c,u,f,p,h=i&&i.columns||0,g=[],m=new Array(h);for(a=0;a<r.length;a++)for(d=r[a].cells,n=0;n<d.length;n++){for(c=a,u=(l=d[n]).rowSpan||1,f=l.colSpan||1,void 0===g[c]&&(g[c]=[]),o=0;o<g[c].length+1;o++)if(void 0===g[c][o]){p=o;break}for(h&&l.cellIndex===p||(l.setAttribute?l.setAttribute("data-column",p):e(l).attr("data-column",p)),o=c;o<c+u;o++)for(void 0===g[o]&&(g[o]=[]),m=g[o],s=p;s<p+f;s++)m[s]="x"}return t.checkColumnCount(r,g,m.length),m.length},checkColumnCount:function(e,t,r){var i,a,n=!0,o=[];for(i=0;i<t.length;i++)if(t[i]&&(a=t[i].length,t[i].length!==r)){n=!1;break}n||(e.each((function(e,t){var r=t.parentElement.nodeName;o.indexOf(r)<0&&o.push(r)})),console.error("Invalid or incorrect number of columns in the "+o.join(" or ")+"; expected "+r+", but found "+a+" columns"))},fixColumnWidth:function(r){var i,a,n,o,s,l=(r=e(r)[0]).config,d=l.$table.children("colgroup");if(d.length&&d.hasClass(t.css.colgroup)&&d.remove(),l.widthFixed&&0===l.$table.children("colgroup").length){for(d=e('<colgroup class="'+t.css.colgroup+'">'),i=l.$table.width(),o=(n=l.$tbodies.find("tr:first").children(":visible")).length,s=0;s<o;s++)a=parseInt(n.eq(s).width()/i*1e3,10)/10+"%",d.append(e("<col>").css("width",a));l.$table.prepend(d)}},getData:function(t,r,i){var a,n,o="",s=e(t);return s.length?(a=!!e.metadata&&s.metadata(),n=" "+(s.attr("class")||""),void 0!==s.data(i)||void 0!==s.data(i.toLowerCase())?o+=s.data(i)||s.data(i.toLowerCase()):a&&void 0!==a[i]?o+=a[i]:r&&void 0!==r[i]?o+=r[i]:" "!==n&&n.match(" "+i+"-")&&(o=n.match(new RegExp("\\s"+i+"-([\\w-]+)"))[1]||""),e.trim(o)):""},getColumnData:function(t,r,i,a,n){if("object"!=typeof r||null===r)return r;var o,s=(t=e(t)[0]).config,l=n||s.$headers,d=s.$headerIndexed&&s.$headerIndexed[i]||l.find('[data-column="'+i+'"]:last');if(void 0!==r[i])return a?r[i]:r[l.index(d)];for(o in r)if("string"==typeof o&&d.filter(o).add(d.find(o)).length)return r[o]},isProcessing:function(r,i,a){var n=(r=e(r))[0].config,o=a||r.find("."+t.css.header);i?(void 0!==a&&n.sortList.length>0&&(o=o.filter((function(){return!this.sortDisabled&&t.isValueInArray(parseFloat(e(this).attr("data-column")),n.sortList)>=0}))),r.add(o).addClass(t.css.processing+" "+n.cssProcessing)):r.add(o).removeClass(t.css.processing+" "+n.cssProcessing)},processTbody:function(t,r,i){if(t=e(t)[0],i)return t.isProcessing=!0,r.before('<colgroup class="tablesorter-savemyplace"/>'),e.fn.detach?r.detach():r.remove();var a=e(t).find("colgroup.tablesorter-savemyplace");r.insertAfter(a),a.remove(),t.isProcessing=!1},clearTableBody:function(t){e(t)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"áàâãäąå",A:"ÁÀÂÃÄĄÅ",c:"çćč",C:"ÇĆČ",e:"éèêëěę",E:"ÉÈÊËĚĘ",i:"íìİîïı",I:"ÍÌİÎÏ",o:"óòôõöō",O:"ÓÒÔÕÖŌ",ss:"ß",SS:"ẞ",u:"úùûüů",U:"ÚÙÛÜŮ"},replaceAccents:function(e){var r,i="[",a=t.characterEquivalents;if(!t.characterRegex){for(r in t.characterRegexArray={},a)"string"==typeof r&&(i+=a[r],t.characterRegexArray[r]=new RegExp("["+a[r]+"]","g"));t.characterRegex=new RegExp(i+"]")}if(t.characterRegex.test(e))for(r in a)"string"==typeof r&&(e=e.replace(t.characterRegexArray[r],r));return e},validateOptions:function(r){var i,a,n,o,s="headers sortForce sortList sortAppend widgets".split(" "),l=r.originalSettings;if(l){for(i in t.debug(r,"core")&&(o=new Date),l)if("undefined"==(n=typeof t.defaults[i]))console.warn('Tablesorter Warning! "table.config.'+i+'" option not recognized');else if("object"===n)for(a in l[i])n=t.defaults[i]&&typeof t.defaults[i][a],e.inArray(i,s)<0&&"undefined"===n&&console.warn('Tablesorter Warning! "table.config.'+i+"."+a+'" option not recognized');t.debug(r,"core")&&console.log("validate options time:"+t.benchmark(o))}},restoreHeaders:function(r){var i,a,n=e(r)[0].config,o=n.$table.find(n.selectorHeaders),s=o.length;for(i=0;i<s;i++)(a=o.eq(i)).find("."+t.css.headerIn).length&&a.html(n.headerContent[i])},destroy:function(r,i,a){if((r=e(r)[0]).hasInitialized){t.removeWidget(r,!0,!1);var n,o=e(r),s=r.config,l=o.find("thead:first"),d=l.find("tr."+t.css.headerRow).removeClass(t.css.headerRow+" "+s.cssHeaderRow),c=o.find("tfoot:first > tr").children("th, td");!1===i&&e.inArray("uitheme",s.widgets)>=0&&(o.triggerHandler("applyWidgetId",["uitheme"]),o.triggerHandler("applyWidgetId",["zebra"])),l.find("tr").not(d).remove(),n="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(s.namespace+" "),o.removeData("tablesorter").unbind(n.replace(t.regex.spaces," ")),s.$headers.add(c).removeClass([t.css.header,s.cssHeader,s.cssAsc,s.cssDesc,t.css.sortAsc,t.css.sortDesc,t.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),d.find(s.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(s.namespace+" ").replace(t.regex.spaces," ")),t.restoreHeaders(r),o.toggleClass(t.css.table+" "+s.tableClass+" tablesorter-"+s.theme,!1===i),o.removeClass(s.namespace.slice(1)),r.hasInitialized=!1,delete r.config.cache,"function"==typeof a&&a(r),t.debug(s,"core")&&console.log("tablesorter has been removed")}}};e.fn.tablesorter=function(r){return this.each((function(){var i=e.extend(!0,{},t.defaults,r,t.instanceMethods);i.originalSettings=r,!this.hasInitialized&&t.buildTable&&"TABLE"!==this.nodeName?t.buildTable(this,i):t.setup(this,i)}))},window.console&&window.console.log||(t.logs=[],console={},console.log=console.warn=console.error=console.table=function(){var e=arguments.length>1?arguments:arguments[0];t.logs[t.logs.length]={date:Date.now(),log:e}}),t.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),t.addParser({id:"text",is:function(){return!0},format:function(r,i){var a=i.config;return r&&(r=e.trim(a.ignoreCase?r.toLocaleLowerCase():r),r=a.sortLocaleCompare?t.replaceAccents(r):r),r},type:"text"}),t.regex.nondigit=/[^\w,. \-()]/g,t.addParser({id:"digit",is:function(e){return t.isDigit(e)},format:function(r,i){var a=t.formatFloat((r||"").replace(t.regex.nondigit,""),i);return r&&"number"==typeof a?a:r?e.trim(r&&i.config.ignoreCase?r.toLocaleLowerCase():r):r},type:"numeric"}),t.regex.currencyReplace=/[+\-,. ]/g,t.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,t.addParser({id:"currency",is:function(e){return e=(e||"").replace(t.regex.currencyReplace,""),t.regex.currencyTest.test(e)},format:function(r,i){var a=t.formatFloat((r||"").replace(t.regex.nondigit,""),i);return r&&"number"==typeof a?a:r?e.trim(r&&i.config.ignoreCase?r.toLocaleLowerCase():r):r},type:"numeric"}),t.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,t.regex.urlProtocolReplace=/(https?|ftp|file):\/\/(www\.)?/,t.addParser({id:"url",is:function(e){return t.regex.urlProtocolTest.test(e)},format:function(r){return r?e.trim(r.replace(t.regex.urlProtocolReplace,"")):r},type:"text"}),t.regex.dash=/-/g,t.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,t.addParser({id:"isoDate",is:function(e){return t.regex.isoDate.test(e)},format:function(e){var r=e?new Date(e.replace(t.regex.dash,"/")):e;return r instanceof Date&&isFinite(r)?r.getTime():e},type:"numeric"}),t.regex.percent=/%/g,t.regex.percentTest=/(\d\s*?%|%\s*?\d)/,t.addParser({id:"percent",is:function(e){return t.regex.percentTest.test(e)&&e.length<15},format:function(e,r){return e?t.formatFloat(e.replace(t.regex.percent,""),r):e},type:"numeric"}),t.addParser({id:"image",is:function(e,t,r,i){return i.find("img").length>0},format:function(t,r,i){return e(i).find("img").attr(r.config.imgAttr||"alt")||t},parsed:!0,type:"text"}),t.regex.dateReplace=/(\S)([AP]M)$/i,t.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,t.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,t.addParser({id:"usLongDate",is:function(e){return t.regex.usLongDateTest1.test(e)||t.regex.usLongDateTest2.test(e)},format:function(e){var r=e?new Date(e.replace(t.regex.dateReplace,"$1 $2")):e;return r instanceof Date&&isFinite(r)?r.getTime():e},type:"numeric"}),t.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,t.regex.shortDateReplace=/[\-.,]/g,t.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,t.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,t.convertFormat=function(e,r){e=(e||"").replace(t.regex.spaces," ").replace(t.regex.shortDateReplace,"/"),"mmddyyyy"===r?e=e.replace(t.regex.shortDateXXY,"$3/$1/$2"):"ddmmyyyy"===r?e=e.replace(t.regex.shortDateXXY,"$3/$2/$1"):"yyyymmdd"===r&&(e=e.replace(t.regex.shortDateYMD,"$1/$2/$3"));var i=new Date(e);return i instanceof Date&&isFinite(i)?i.getTime():""},t.addParser({id:"shortDate",is:function(e){return e=(e||"").replace(t.regex.spaces," ").replace(t.regex.shortDateReplace,"/"),t.regex.shortDateTest.test(e)},format:function(e,r,i,a){if(e){var n=r.config,o=n.$headerIndexed[a],s=o.length&&o.data("dateFormat")||t.getData(o,t.getColumnData(r,n.headers,a),"dateFormat")||n.dateFormat;return o.length&&o.data("dateFormat",s),t.convertFormat(e,s)||e}return e},type:"numeric"}),t.regex.timeTest=/^(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i,t.regex.timeMatch=/(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i,t.addParser({id:"time",is:function(e){return t.regex.timeTest.test(e)},format:function(e){var r=(e||"").match(t.regex.timeMatch),i=new Date(e),a=e&&(null!==r?r[0]:"00:00 AM"),n=a?new Date("2000/01/01 "+a.replace(t.regex.dateReplace,"$1 $2")):a;return n instanceof Date&&isFinite(n)?i instanceof Date&&isFinite(i)&&i.getTime()?parseFloat(n.getTime()+"."+i.getTime()):n.getTime():e},type:"numeric"}),t.addParser({id:"metadata",is:function(){return!1},format:function(t,r,i){var a=r.config,n=a.parserMetadataName?a.parserMetadataName:"sortValue";return e(i).metadata()[n]},type:"numeric"}),t.addWidget({id:"zebra",priority:90,format:function(t,r,i){var a,n,o,s,l,d,c,u=new RegExp(r.cssChildRow,"i"),f=r.$tbodies.add(e(r.namespace+"_extra_table").children("tbody:not(."+r.cssInfoBlock+")"));for(l=0;l<f.length;l++)for(o=0,c=(a=f.eq(l).children("tr:visible").not(r.selectorRemove)).length,d=0;d<c;d++)n=a.eq(d),u.test(n[0].className)||o++,s=o%2==0,n.removeClass(i.zebra[s?1:0]).addClass(i.zebra[s?0:1])},remove:function(e,r,i,a){if(!a){var n,o,s=r.$tbodies,l=(i.zebra||["even","odd"]).join(" ");for(n=0;n<s.length;n++)(o=t.processTbody(e,s.eq(n),!0)).children().removeClass(l),t.processTbody(e,o,!1)}}})}(e),function(e,t,r){"use strict";var i=e.tablesorter||{};e.extend(!0,i.defaults,{fixedUrl:"",widgetOptions:{storage_fixedUrl:"",storage_group:"",storage_page:"",storage_storageType:"",storage_tableId:"",storage_useSessionStorage:""}}),i.storage=function(a,n,o,s){var l,d,c,u=!1,f={},p=(a=e(a)[0]).config,h=p&&p.widgetOptions,g=i.debug(p,"storage"),m=(s&&s.storageType||h&&h.storage_storageType).toString().charAt(0).toLowerCase(),v=m?"":s&&s.useSessionStorage||h&&h.storage_useSessionStorage,b=e(a),y=s&&s.id||b.attr(s&&s.group||h&&h.storage_group||"data-table-group")||h&&h.storage_tableId||a.id||e(".tablesorter").index(b),_=s&&s.url||b.attr(s&&s.page||h&&h.storage_page||"data-table-page")||h&&h.storage_fixedUrl||p&&p.fixedUrl||t.location.pathname;if("c"!==m&&(m="s"===m||v?"sessionStorage":"localStorage")in t)try{t[m].setItem("_tmptest","temp"),u=!0,t[m].removeItem("_tmptest")}catch(e){console.warn(m+" is not supported in this browser")}if(g&&console.log("Storage >> Using",u?m:"cookies"),e.parseJSON&&(u?f=e.parseJSON(t[m][n]||"null")||{}:(d=r.cookie.split(/[;\s|=]/),f=0!==(l=e.inArray(n,d)+1)&&e.parseJSON(d[l]||"null")||{})),void 0===o||!t.JSON||!JSON.hasOwnProperty("stringify"))return f&&f[_]?f[_][y]:"";f[_]||(f[_]={}),f[_][y]=o,u?t[m][n]=JSON.stringify(f):((c=new Date).setTime(c.getTime()+31536e6),r.cookie=n+"="+JSON.stringify(f).replace(/\"/g,'"')+"; expires="+c.toGMTString()+"; path=/")}}(e,window,document),function(e){"use strict";var t=e.tablesorter||{};t.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"bootstrap-icon-unsorted",iconSortAsc:"glyphicon glyphicon-chevron-up",iconSortDesc:"glyphicon glyphicon-chevron-down",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content",header:"ui-widget-header ui-corner-all ui-state-default",sortNone:"",sortAsc:"",sortDesc:"",active:"ui-state-active",hover:"ui-state-hover",icons:"ui-icon",iconSortNone:"ui-icon-carat-2-n-s ui-icon-caret-2-n-s",iconSortAsc:"ui-icon-carat-1-n ui-icon-caret-1-n",iconSortDesc:"ui-icon-carat-1-s ui-icon-caret-1-s",filterRow:"",footerRow:"",footerCells:"",even:"ui-widget-content",odd:"ui-state-default"}},e.extend(t.css,{wrapper:"tablesorter-wrapper"}),t.addWidget({id:"uitheme",priority:10,format:function(r,i,a){var n,o,s,l,d,c,u,f,p,h,g,m,v,b=t.themes,y=i.$table.add(e(i.namespace+"_extra_table")),_=i.$headers.add(e(i.namespace+"_extra_headers")),w=i.theme||"jui",x=b[w]||{},C=e.trim([x.sortNone,x.sortDesc,x.sortAsc,x.active].join(" ")),k=e.trim([x.iconSortNone,x.iconSortDesc,x.iconSortAsc].join(" ")),F=t.debug(i,"uitheme");for(F&&(d=new Date),y.hasClass("tablesorter-"+w)&&i.theme===i.appliedTheme&&a.uitheme_applied||(a.uitheme_applied=!0,h=b[i.appliedTheme]||{},g=(v=!e.isEmptyObject(h))?[h.sortNone,h.sortDesc,h.sortAsc,h.active].join(" "):"",m=v?[h.iconSortNone,h.iconSortDesc,h.iconSortAsc].join(" "):"",v&&(a.zebra[0]=e.trim(" "+a.zebra[0].replace(" "+h.even,"")),a.zebra[1]=e.trim(" "+a.zebra[1].replace(" "+h.odd,"")),i.$tbodies.children().removeClass([h.even,h.odd].join(" "))),x.even&&(a.zebra[0]+=" "+x.even),x.odd&&(a.zebra[1]+=" "+x.odd),y.children("caption").removeClass(h.caption||"").addClass(x.caption),f=y.removeClass((i.appliedTheme?"tablesorter-"+(i.appliedTheme||""):"")+" "+(h.table||"")).addClass("tablesorter-"+w+" "+(x.table||"")).children("tfoot"),i.appliedTheme=i.theme,f.length&&f.children("tr").removeClass(h.footerRow||"").addClass(x.footerRow).children("th, td").removeClass(h.footerCells||"").addClass(x.footerCells),_.removeClass((v?[h.header,h.hover,g].join(" "):"")||"").addClass(x.header).not(".sorter-false").unbind("mouseenter.tsuitheme mouseleave.tsuitheme").bind("mouseenter.tsuitheme mouseleave.tsuitheme",(function(t){e(this)["mouseenter"===t.type?"addClass":"removeClass"](x.hover||"")})),_.each((function(){var r=e(this);r.find("."+t.css.wrapper).length||r.wrapInner('<div class="'+t.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')})),i.cssIcon&&_.find("."+t.css.icon).removeClass(v?[h.icons,m].join(" "):"").addClass(x.icons||""),t.hasWidget(i.table,"filter")&&(o=function(){y.children("thead").children("."+t.css.filterRow).removeClass(v&&h.filterRow||"").addClass(x.filterRow||"")},a.filter_initialized?o():y.one("filterInit",(function(){o()})))),n=0;n<i.columns;n++)c=i.$headers.add(e(i.namespace+"_extra_headers")).not(".sorter-false").filter('[data-column="'+n+'"]'),u=t.css.icon?c.find("."+t.css.icon):e(),(p=_.not(".sorter-false").filter('[data-column="'+n+'"]:last')).length&&(c.removeClass(C),u.removeClass(k),p[0].sortDisabled?u.removeClass(x.icons||""):(s=x.sortNone,l=x.iconSortNone,p.hasClass(t.css.sortAsc)?(s=[x.sortAsc,x.active].join(" "),l=x.iconSortAsc):p.hasClass(t.css.sortDesc)&&(s=[x.sortDesc,x.active].join(" "),l=x.iconSortDesc),c.addClass(s),u.addClass(l||"")));F&&console.log("uitheme >> Applied "+w+" theme"+t.benchmark(d))},remove:function(e,r,i,a){if(i.uitheme_applied){var n=r.$table,o=r.appliedTheme||"jui",s=t.themes[o]||t.themes.jui,l=n.children("thead").children(),d=s.sortNone+" "+s.sortDesc+" "+s.sortAsc,c=s.iconSortNone+" "+s.iconSortDesc+" "+s.iconSortAsc;n.removeClass("tablesorter-"+o+" "+s.table),i.uitheme_applied=!1,a||(n.find(t.css.header).removeClass(s.header),l.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(s.hover+" "+d+" "+s.active).filter("."+t.css.filterRow).removeClass(s.filterRow),l.find("."+t.css.icon).removeClass(s.icons+" "+c))}}})}(e),function(e){"use strict";var t=e.tablesorter||{};t.addWidget({id:"columns",priority:65,options:{columns:["primary","secondary","tertiary"]},format:function(r,i,a){var n,o,s,l,d,c,u,f,p=i.$table,h=i.$tbodies,g=i.sortList,m=g.length,v=a&&a.columns||["primary","secondary","tertiary"],b=v.length-1;for(u=v.join(" "),o=0;o<h.length;o++)(s=(n=t.processTbody(r,h.eq(o),!0)).children("tr")).each((function(){if(d=e(this),"none"!==this.style.display&&(c=d.children().removeClass(u),g&&g[0]&&(c.eq(g[0][0]).addClass(v[0]),m>1)))for(f=1;f<m;f++)c.eq(g[f][0]).addClass(v[f]||v[b])})),t.processTbody(r,n,!1);if(l=!1!==a.columns_thead?["thead tr"]:[],!1!==a.columns_tfoot&&l.push("tfoot tr"),l.length&&(s=p.find(l.join(",")).children().removeClass(u),m))for(f=0;f<m;f++)s.filter('[data-column="'+g[f][0]+'"]').addClass(v[f]||v[b])},remove:function(r,i,a){var n,o,s=i.$tbodies,l=(a.columns||["primary","secondary","tertiary"]).join(" ");for(i.$headers.removeClass(l),i.$table.children("tfoot").children("tr").children("th, td").removeClass(l),n=0;n<s.length;n++)(o=t.processTbody(r,s.eq(n),!0)).children("tr").each((function(){e(this).children().removeClass(l)})),t.processTbody(r,o,!1)}})}(e),function(e){"use strict";var t,r,i=e.tablesorter||{},a=i.css,n=i.keyCodes;e.extend(a,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"}),e.extend(n,{backSpace:8,escape:27,space:32,left:37,down:40}),i.addWidget({id:"filter",priority:50,options:{filter_cellFilter:"",filter_childRows:!1,filter_childByColumn:!1,filter_childWithSibs:!0,filter_columnAnyMatch:!0,filter_columnFilters:!0,filter_cssFilter:"",filter_defaultAttrib:"data-value",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_filterLabel:'Filter "{{label}}" column by...',filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_matchType:{input:"exact",select:"exact"},filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_resetOnEsc:!0,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_selectSourceSeparator:"|",filter_serversideFiltering:!1,filter_startsWith:!1,filter_useParsedData:!1},format:function(e,r,i){r.$table.hasClass("hasFilters")||t.init(e,r,i)},remove:function(t,r,n,o){var s,l,d=r.$table,c=r.$tbodies,u="addRows updateCell update updateRows updateComplete appendCache filterReset filterAndSortReset filterFomatterUpdate filterEnd search stickyHeadersInit ".split(" ").join(r.namespace+"filter ");if(d.removeClass("hasFilters").unbind(u.replace(i.regex.spaces," ")).find("."+a.filterRow).remove(),n.filter_initialized=!1,!o){for(s=0;s<c.length;s++)(l=i.processTbody(t,c.eq(s),!0)).children().removeClass(n.filter_filteredRow).show(),i.processTbody(t,l,!1);n.filter_reset&&e(document).undelegate(n.filter_reset,"click"+r.namespace+"filter")}}}),t=i.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([migyu]{0,5})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,operators:/[<>=]/g,query:"(q|query)",wild01:/\?/g,wild0More:/\*/g,quote:/\"/g,isNeg1:/(>=?\s*-\d)/,isNeg2:/(<=?\s*\d)/},types:{or:function(i,a,n){if((r.orTest.test(a.iFilter)||r.orSplit.test(a.filter))&&!r.regex.test(a.filter)){var o,s,l,d=e.extend({},a),c=a.filter.split(r.orSplit),u=a.iFilter.split(r.orSplit),f=c.length;for(o=0;o<f;o++){d.nestedFilters=!0,d.filter=""+(t.parseFilter(i,c[o],a)||""),d.iFilter=""+(t.parseFilter(i,u[o],a)||""),l="("+(t.parseFilter(i,d.filter,a)||"")+")";try{if(s=new RegExp(a.isMatch?l:"^"+l+"$",i.widgetOptions.filter_ignoreCase?"i":"").test(d.exact)||t.processTypes(i,d,n))return s}catch(e){return null}}return s||!1}return null},and:function(i,a,n){if(r.andTest.test(a.filter)){var o,s,l,d,c=e.extend({},a),u=a.filter.split(r.andSplit),f=a.iFilter.split(r.andSplit),p=u.length;for(o=0;o<p;o++){c.nestedFilters=!0,c.filter=""+(t.parseFilter(i,u[o],a)||""),c.iFilter=""+(t.parseFilter(i,f[o],a)||""),d=("("+(t.parseFilter(i,c.filter,a)||"")+")").replace(r.wild01,"\\S{1}").replace(r.wild0More,"\\S*");try{l=new RegExp(a.isMatch?d:"^"+d+"$",i.widgetOptions.filter_ignoreCase?"i":"").test(c.exact)||t.processTypes(i,c,n),s=(0===o||s)&&l}catch(e){return null}}return s||!1}return null},regex:function(e,t){if(r.regex.test(t.filter)){var i,a=t.filter_regexCache[t.index]||r.regex.exec(t.filter),n=a instanceof RegExp;try{n||(t.filter_regexCache[t.index]=a=new RegExp(a[1],a[2])),i=a.test(t.exact)}catch(e){i=!1}return i}return null},operators:function(a,n){if(r.operTest.test(n.iFilter)&&""!==n.iExact){var o,s,l,d=a.table,c=n.parsed[n.index],u=i.formatFloat(n.iFilter.replace(r.operators,""),d),f=a.parsers[n.index]||{},p=u;return(c||"numeric"===f.type)&&(l=e.trim(""+n.iFilter.replace(r.operators,"")),u="number"!=typeof(s=t.parseFilter(a,l,n,!0))||""===s||isNaN(s)?u:s),!c&&"numeric"!==f.type||isNaN(u)||void 0===n.cache?(l=isNaN(n.iExact)?n.iExact.replace(i.regex.nondigit,""):n.iExact,o=i.formatFloat(l,d)):o=n.cache,r.gtTest.test(n.iFilter)?s=r.gteTest.test(n.iFilter)?o>=u:o>u:r.ltTest.test(n.iFilter)&&(s=r.lteTest.test(n.iFilter)?o<=u:o<u),s||""!==p||(s=!0),s}return null},notMatch:function(i,a){if(r.notTest.test(a.iFilter)){var n,o=a.iFilter.replace("!",""),s=t.parseFilter(i,o,a)||"";return r.exact.test(s)?""===(s=s.replace(r.exact,""))||e.trim(s)!==a.iExact:(n=a.iExact.search(e.trim(s)),""===s||(a.anyMatch?n<0:!(i.widgetOptions.filter_startsWith?0===n:n>=0)))}return null},exact:function(i,a){if(r.exact.test(a.iFilter)){var n=a.iFilter.replace(r.exact,""),o=t.parseFilter(i,n,a)||"";return a.anyMatch?e.inArray(o,a.rowArray)>=0:o==a.iExact}return null},range:function(e,a){if(r.toTest.test(a.iFilter)){var n,o,s,l,d=e.table,c=a.index,u=a.parsed[c],f=a.iFilter.split(r.toSplit);return o=f[0].replace(i.regex.nondigit,"")||"",s=i.formatFloat(t.parseFilter(e,o,a),d),o=f[1].replace(i.regex.nondigit,"")||"",l=i.formatFloat(t.parseFilter(e,o,a),d),(u||"numeric"===e.parsers[c].type)&&(s=""===(n=e.parsers[c].format(""+f[0],d,e.$headers.eq(c),c))||isNaN(n)?s:n,l=""===(n=e.parsers[c].format(""+f[1],d,e.$headers.eq(c),c))||isNaN(n)?l:n),!u&&"numeric"!==e.parsers[c].type||isNaN(s)||isNaN(l)?(o=isNaN(a.iExact)?a.iExact.replace(i.regex.nondigit,""):a.iExact,n=i.formatFloat(o,d)):n=a.cache,s>l&&(o=s,s=l,l=o),n>=s&&n<=l||""===s||""===l}return null},wild:function(e,i){if(r.wildOrTest.test(i.iFilter)){var a=""+(t.parseFilter(e,i.iFilter,i)||"");!r.wildTest.test(a)&&i.nestedFilters&&(a=i.isMatch?a:"^("+a+")$");try{return new RegExp(a.replace(r.wild01,"\\S{1}").replace(r.wild0More,"\\S*"),e.widgetOptions.filter_ignoreCase?"i":"").test(i.exact)}catch(e){return null}}return null},fuzzy:function(e,i){if(r.fuzzyTest.test(i.iFilter)){var a,n=0,o=i.iExact.length,s=i.iFilter.slice(1),l=t.parseFilter(e,s,i)||"";for(a=0;a<o;a++)i.iExact[a]===l[n]&&(n+=1);return n===l.length}return null}},init:function(n){i.language=e.extend(!0,{},{to:"to",or:"or",and:"and"},i.language);var o,s,l,d,c,u,f,p,h=n.config,g=h.widgetOptions,m=function(e,t,r){return""===(t=t.trim())?"":(e||"")+t+(r||"")};if(h.$table.addClass("hasFilters"),h.lastSearch=[],g.filter_searchTimer=null,g.filter_initTimer=null,g.filter_formatterCount=0,g.filter_formatterInit=[],g.filter_anyColumnSelector='[data-column="all"],[data-column="any"]',g.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]',u="\\{"+r.query+"\\}",e.extend(r,{child:new RegExp(h.cssChildRow),filtered:new RegExp(g.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+(-"+m("|",i.language.or)+m("|",i.language.to)+")\\s+)","i"),toTest:new RegExp("\\s+(-"+m("|",i.language.to)+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-"+m("|",i.language.to)+")\\s+)","gi"),andTest:new RegExp("\\s+("+m("",i.language.and,"|")+"&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+m("",i.language.and,"|")+"&&)\\s+)","gi"),orTest:new RegExp("(\\|"+m("|\\s+",i.language.or,"\\s+")+")","i"),orSplit:new RegExp("(?:\\|"+m("|\\s+(?:",i.language.or,")\\s+")+")","gi"),iQuery:new RegExp(u,"i"),igQuery:new RegExp(u,"ig"),operTest:/^[<>]=?/,gtTest:/>/,gteTest:/>=/,ltTest:/</,lteTest:/<=/,notTest:/^\!/,wildOrTest:/[\?\*\|]/,wildTest:/\?\*/,fuzzyTest:/^~/,exactTest:/[=\"\|!]/}),u=h.$headers.filter(".filter-false, .parser-false").length,!1!==g.filter_columnFilters&&u!==h.$headers.length&&t.buildRow(n,h,g),l="addRows updateCell update updateRows updateComplete appendCache filterReset "+"filterAndSortReset filterResetSaved filterEnd search ".split(" ").join(h.namespace+"filter "),h.$table.bind(l,(function(r,o){return u=g.filter_hideEmpty&&e.isEmptyObject(h.cache)&&!(h.delayInit&&"appendCache"===r.type),h.$table.find("."+a.filterRow).toggleClass(g.filter_filteredRow,u),/(search|filter)/.test(r.type)||(r.stopPropagation(),t.buildDefault(n,!0)),"filterReset"===r.type||"filterAndSortReset"===r.type?(h.$table.find("."+a.filter).add(g.filter_$externalFilters).val(""),"filterAndSortReset"===r.type?i.sortReset(this.config,(function(){t.searching(n,[])})):t.searching(n,[])):"filterResetSaved"===r.type?i.storage(n,"tablesorter-filters",""):"filterEnd"===r.type?t.buildDefault(n,!0):(o="search"===r.type?o:"updateComplete"===r.type?h.$table.data("lastSearch"):"",/(update|add)/.test(r.type)&&"updateComplete"!==r.type&&(h.lastCombinedFilter=null,h.lastSearch=[],setTimeout((function(){h.$table.triggerHandler("filterFomatterUpdate")}),100)),t.searching(n,o,!0)),!1})),g.filter_reset&&(g.filter_reset instanceof e?g.filter_reset.click((function(){h.$table.triggerHandler("filterReset")})):e(g.filter_reset).length&&e(document).undelegate(g.filter_reset,"click"+h.namespace+"filter").delegate(g.filter_reset,"click"+h.namespace+"filter",(function(){h.$table.triggerHandler("filterReset")}))),g.filter_functions)for(c=0;c<h.columns;c++)if(f=i.getColumnData(n,g.filter_functions,c))if(p=!((d=h.$headerIndexed[c].removeClass("filter-select")).hasClass("filter-false")||d.hasClass("parser-false")),o="",!0===f&&p)t.buildSelect(n,c);else if("object"==typeof f&&p){for(s in f)"string"==typeof s&&(o+=""===o?'<option value="">'+(d.data("placeholder")||d.attr("data-placeholder")||g.filter_placeholder.select||"")+"</option>":"",u=s,l=s,s.indexOf(g.filter_selectSourceSeparator)>=0&&(l=(u=s.split(g.filter_selectSourceSeparator))[1],u=u[0]),o+="<option "+(l===u?"":'data-function-name="'+s+'" ')+'value="'+u+'">'+l+"</option>");h.$table.find("thead").find("select."+a.filter+'[data-column="'+c+'"]').append(o),(f="function"==typeof(l=g.filter_selectSource)||i.getColumnData(n,l,c))&&t.buildSelect(h.table,c,"",!0,d.hasClass(g.filter_onlyAvail))}t.buildDefault(n,!0),t.bindSearch(n,h.$table.find("."+a.filter),!0),g.filter_external&&t.bindSearch(n,g.filter_external),g.filter_hideFilters&&t.hideFilters(h),h.showProcessing&&(l="filterStart filterEnd ".split(" ").join(h.namespace+"filter-sp "),h.$table.unbind(l.replace(i.regex.spaces," ")).bind(l,(function(t,r){d=r?h.$table.find("."+a.header).filter("[data-column]").filter((function(){return""!==r[e(this).data("column")]})):"",i.isProcessing(n,"filterStart"===t.type,r?d:"")}))),h.filteredRows=h.totalRows,l="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(h.namespace+"filter "),h.$table.unbind(l.replace(i.regex.spaces," ")).bind(l,(function(){t.completeInit(this)})),h.pager&&h.pager.initialized&&!g.filter_initialized?(h.$table.triggerHandler("filterFomatterUpdate"),setTimeout((function(){t.filterInitComplete(h)}),100)):g.filter_initialized||t.completeInit(n)},completeInit:function(e){var r=e.config,a=r.widgetOptions,n=t.setDefaults(e,r,a)||[];n.length&&(r.delayInit&&""===n.join("")||i.setFilters(e,n,!0)),r.$table.triggerHandler("filterFomatterUpdate"),setTimeout((function(){a.filter_initialized||t.filterInitComplete(r)}),100)},formatterUpdated:function(e,t){var r=e&&e.closest("table"),i=r.length&&r[0].config,a=i&&i.widgetOptions;a&&!a.filter_initialized&&(a.filter_formatterInit[t]=1)},filterInitComplete:function(r){var a,n,o=r.widgetOptions,s=0,l=function(){o.filter_initialized=!0,r.lastSearch=r.$table.data("lastSearch"),r.$table.triggerHandler("filterInit",r),t.findRows(r.table,r.lastSearch||[]),i.debug(r,"filter")&&console.log("Filter >> Widget initialized")};if(e.isEmptyObject(o.filter_formatter))l();else{for(n=o.filter_formatterInit.length,a=0;a<n;a++)1===o.filter_formatterInit[a]&&s++;clearTimeout(o.filter_initTimer),o.filter_initialized||s!==o.filter_formatterCount?o.filter_initialized||(o.filter_initTimer=setTimeout((function(){l()}),500)):l()}},processFilters:function(e,t){var r,i=[],a=t?encodeURIComponent:decodeURIComponent,n=e.length;for(r=0;r<n;r++)e[r]&&(i[r]=a(e[r]));return i},setDefaults:function(r,a,n){var o,s,l,d,c,u=i.getFilters(r)||[];if(n.filter_saveFilters&&i.storage&&(s=i.storage(r,"tablesorter-filters")||[],(o=e.isArray(s))&&""===s.join("")||!o||(u=t.processFilters(s))),""===u.join(""))for(c=a.$headers.add(n.filter_$externalFilters).filter("["+n.filter_defaultAttrib+"]"),l=0;l<=a.columns;l++)d=l===a.columns?"all":l,u[l]=c.filter('[data-column="'+d+'"]').attr(n.filter_defaultAttrib)||u[l]||"";return a.$table.data("lastSearch",u),u},parseFilter:function(e,t,r,i){return i||r.parsed[r.index]?e.parsers[r.index].format(t,e.table,[],r.index):t},buildRow:function(r,n,o){var s,l,d,c,u,f,p,h,g,m=o.filter_cellFilter,v=n.columns,b=e.isArray(m),y='<tr role="search" class="'+a.filterRow+" "+n.cssIgnoreRow+'">';for(d=0;d<v;d++)n.$headerIndexed[d].length&&(y+=(g=n.$headerIndexed[d]&&n.$headerIndexed[d][0].colSpan||0)>1?'<td data-column="'+d+"-"+(d+g-1)+'" colspan="'+g+'"':'<td data-column="'+d+'"',y+=b?m[d]?' class="'+m[d]+'"':"":""!==m?' class="'+m+'"':"",y+="></td>");for(n.$filters=e(y+="</tr>").appendTo(n.$table.children("thead").eq(0)).children("td"),d=0;d<v;d++)f=!1,(c=n.$headerIndexed[d])&&c.length&&(s=t.getColumnElm(n,n.$filters,d),h=i.getColumnData(r,o.filter_functions,d),u=o.filter_functions&&h&&"function"!=typeof h||c.hasClass("filter-select"),l=i.getColumnData(r,n.headers,d),f="false"===i.getData(c[0],l,"filter")||"false"===i.getData(c[0],l,"parser"),u?y=e("<select>").appendTo(s):((h=i.getColumnData(r,o.filter_formatter,d))?(o.filter_formatterCount++,(y=h(s,d))&&0===y.length&&(y=s.children("input")),y&&(0===y.parent().length||y.parent().length&&y.parent()[0]!==s[0])&&s.append(y)):y=e('<input type="search">').appendTo(s),y&&(g=c.data("placeholder")||c.attr("data-placeholder")||o.filter_placeholder.search||"",y.attr("placeholder",g))),y&&(p=(e.isArray(o.filter_cssFilter)?void 0!==o.filter_cssFilter[d]&&o.filter_cssFilter[d]||"":o.filter_cssFilter)||"",y.addClass(a.filter+" "+p),(g=(p=o.filter_filterLabel).match(/{{([^}]+?)}}/g))||(g=["{{label}}"]),e.each(g,(function(t,r){var i=new RegExp(r,"g"),a=c.attr("data-"+r.replace(/{{|}}/g,"")),n=void 0===a?c.text():a;p=p.replace(i,e.trim(n))})),y.attr({"data-column":s.attr("data-column"),"aria-label":p}),f&&(y.attr("placeholder","").addClass(a.filterDisabled)[0].disabled=!0)))},bindSearch:function(r,a,o){if(r=e(r)[0],(a=e(a)).length){var s,l=r.config,d=l.widgetOptions,c=l.namespace+"filter",u=d.filter_$externalFilters;!0!==o&&(s=d.filter_anyColumnSelector+","+d.filter_multipleColumnSelector,d.filter_$anyMatch=a.filter(s),u&&u.length?d.filter_$externalFilters=d.filter_$externalFilters.add(a):d.filter_$externalFilters=a,i.setFilters(r,l.$table.data("lastSearch")||[],!1===o)),s="keypress keyup keydown search change input ".split(" ").join(c+" "),a.attr("data-lastSearchTime",(new Date).getTime()).unbind(s.replace(i.regex.spaces," ")).bind("keydown"+c,(function(e){if(e.which===n.escape&&!r.config.widgetOptions.filter_resetOnEsc)return!1})).bind("keyup"+c,(function(a){d=r.config.widgetOptions;var o=parseInt(e(this).attr("data-column"),10),s="boolean"==typeof d.filter_liveSearch?d.filter_liveSearch:i.getColumnData(r,d.filter_liveSearch,o);if(void 0===s&&(s=d.filter_liveSearch.fallback||!1),e(this).attr("data-lastSearchTime",(new Date).getTime()),a.which===n.escape)this.value=d.filter_resetOnEsc?"":l.lastSearch[o];else{if(""!==this.value&&("number"==typeof s&&this.value.length<s||a.which!==n.enter&&a.which!==n.backSpace&&(a.which<n.space||a.which>=n.left&&a.which<=n.down)))return;if(!1===s&&""!==this.value&&a.which!==n.enter)return}t.searching(r,!0,!0,o)})).bind("search change keypress input blur ".split(" ").join(c+" "),(function(a){var o=parseInt(e(this).attr("data-column"),10),s=a.type,c="boolean"==typeof d.filter_liveSearch?d.filter_liveSearch:i.getColumnData(r,d.filter_liveSearch,o);!r.config.widgetOptions.filter_initialized||a.which!==n.enter&&"search"!==s&&"blur"!==s&&("change"!==s&&"input"!==s||!0!==c&&(!0===c||"INPUT"===a.target.nodeName)||this.value===l.lastSearch[o])||(a.preventDefault(),e(this).attr("data-lastSearchTime",(new Date).getTime()),t.searching(r,"keypress"!==s||a.which===n.enter,!0,o))}))}},searching:function(e,r,a,n){var o,s=e.config.widgetOptions;void 0===n?o=!1:void 0===(o="boolean"==typeof s.filter_liveSearch?s.filter_liveSearch:i.getColumnData(e,s.filter_liveSearch,n))&&(o=s.filter_liveSearch.fallback||!1),clearTimeout(s.filter_searchTimer),void 0===r||!0===r?s.filter_searchTimer=setTimeout((function(){t.checkFilters(e,r,a)}),o?s.filter_searchDelay:10):t.checkFilters(e,r,a)},equalFilters:function(t,r,i){var a,n=[],o=[],s=t.columns+1;for(r=e.isArray(r)?r:[],i=e.isArray(i)?i:[],a=0;a<s;a++)n[a]=r[a]||"",o[a]=i[a]||"";return n.join(",")===o.join(",")},checkFilters:function(r,n,o){var s=r.config,l=s.widgetOptions,d=e.isArray(n),c=d?n:i.getFilters(r,!0),u=c||[];if(e.isEmptyObject(s.cache))s.delayInit&&(!s.pager||s.pager&&s.pager.initialized)&&i.updateCache(s,(function(){t.checkFilters(r,!1,o)}));else{if(d&&(i.setFilters(r,c,!1,!0!==o),l.filter_initialized||(s.lastSearch=[],s.lastCombinedFilter="")),l.filter_hideFilters&&s.$table.find("."+a.filterRow).triggerHandler(t.hideFiltersCheck(s)?"mouseleave":"mouseenter"),t.equalFilters(s,s.lastSearch,u)){if(!1!==n)return;s.lastCombinedFilter="",s.lastSearch=[]}if(c=c||[],c=Array.prototype.map?c.map(String):c.join("�").split("�"),l.filter_initialized&&s.$table.triggerHandler("filterStart",[c]),!s.showProcessing)return t.findRows(r,c,u),!1;setTimeout((function(){return t.findRows(r,c,u),!1}),30)}},hideFiltersCheck:function(e){if("function"==typeof e.widgetOptions.filter_hideFilters){var t=e.widgetOptions.filter_hideFilters(e);if("boolean"==typeof t)return t}return""===i.getFilters(e.$table).join("")},hideFilters:function(r,i){var n;(i||r.$table).find("."+a.filterRow).addClass(a.filterRowHide).bind("mouseenter mouseleave",(function(i){var o=i,s=e(this);clearTimeout(n),n=setTimeout((function(){/enter|over/.test(o.type)?s.removeClass(a.filterRowHide):e(document.activeElement).closest("tr")[0]!==s[0]&&s.toggleClass(a.filterRowHide,t.hideFiltersCheck(r))}),200)})).find("input, select").bind("focus blur",(function(i){var o=i,s=e(this).closest("tr");clearTimeout(n),n=setTimeout((function(){clearTimeout(n),s.toggleClass(a.filterRowHide,t.hideFiltersCheck(r)&&"focus"!==o.type)}),200)}))},defaultFilter:function(t,i){if(""===t)return t;var a=r.iQuery,n=i.match(r.igQuery).length,o=n>1?e.trim(t).split(/\s/):[e.trim(t)],s=o.length-1,l=0,d=i;for(s<1&&n>1&&(o[1]=o[0]);a.test(d);)d=d.replace(a,o[l++]||""),a.test(d)&&l<s&&""!==(o[l]||"")&&(d=i.replace(a,d));return d},getLatestSearch:function(t){return t?t.sort((function(t,r){return e(r).attr("data-lastSearchTime")-e(t).attr("data-lastSearchTime")})):t||e()},findRange:function(e,t,r){var i,a,n,o,s,l,d,c,u,f=[];if(/^[0-9]+$/.test(t))return[parseInt(t,10)];if(!r&&/-/.test(t))for(u=(a=t.match(/(\d+)\s*-\s*(\d+)/g))?a.length:0,c=0;c<u;c++){for(n=a[c].split(/\s*-\s*/),(o=parseInt(n[0],10)||0)>(s=parseInt(n[1],10)||e.columns-1)&&(i=o,o=s,s=i),s>=e.columns&&(s=e.columns-1);o<=s;o++)f[f.length]=o;t=t.replace(a[c],"")}if(!r&&/,/.test(t))for(u=(l=t.split(/\s*,\s*/)).length,d=0;d<u;d++)""!==l[d]&&(c=parseInt(l[d],10))<e.columns&&(f[f.length]=c);if(!f.length)for(c=0;c<e.columns;c++)f[f.length]=c;return f},getColumnElm:function(r,i,a){return i.filter((function(){var i=t.findRange(r,e(this).attr("data-column"));return e.inArray(a,i)>-1}))},multipleColumns:function(r,i){var a=r.widgetOptions,n=a.filter_initialized||!i.filter(a.filter_anyColumnSelector).length,o=e.trim(t.getLatestSearch(i).attr("data-column")||"");return t.findRange(r,o,!n)},processTypes:function(r,i,a){var n,o=null,s=null;for(n in t.types)e.inArray(n,a.excludeMatch)<0&&null===s&&null!==(s=t.types[n](r,i,a))&&(i.matchedOn=n,o=s);return o},matchType:function(e,t){var r,i=e.widgetOptions,n=e.$headerIndexed[t];return n.hasClass("filter-exact")?r=!1:n.hasClass("filter-match")?r=!0:(i.filter_columnFilters?n=e.$filters.find("."+a.filter).add(i.filter_$externalFilters).filter('[data-column="'+t+'"]'):i.filter_$externalFilters&&(n=i.filter_$externalFilters.filter('[data-column="'+t+'"]')),r=!!n.length&&"match"===e.widgetOptions.filter_matchType[(n[0].nodeName||"").toLowerCase()]),r},processRow:function(a,n,o){var s,l,d,c,u,f=a.widgetOptions,p=!0,h=f.filter_$anyMatch&&f.filter_$anyMatch.length,g=f.filter_$anyMatch&&f.filter_$anyMatch.length?t.multipleColumns(a,f.filter_$anyMatch):[];if(n.$cells=n.$row.children(),n.matchedOn=null,n.anyMatchFlag&&g.length>1||n.anyMatchFilter&&!h){if(n.anyMatch=!0,n.isMatch=!0,n.rowArray=n.$cells.map((function(t){if(e.inArray(t,g)>-1||n.anyMatchFilter&&!h)return n.parsed[t]?u=n.cacheArray[t]:(u=n.rawArray[t],u=e.trim(f.filter_ignoreCase?u.toLowerCase():u),a.sortLocaleCompare&&(u=i.replaceAccents(u))),u})).get(),n.filter=n.anyMatchFilter,n.iFilter=n.iAnyMatchFilter,n.exact=n.rowArray.join(" "),n.iExact=f.filter_ignoreCase?n.exact.toLowerCase():n.exact,n.cache=n.cacheArray.slice(0,-1).join(" "),o.excludeMatch=o.noAnyMatch,null!==(l=t.processTypes(a,n,o)))p=l;else if(f.filter_startsWith)for(p=!1,g=Math.min(a.columns,n.rowArray.length);!p&&g>0;)g--,p=p||0===n.rowArray[g].indexOf(n.iFilter);else p=(n.iExact+n.childRowText).indexOf(n.iFilter)>=0;if(n.anyMatch=!1,n.filters.join("")===n.filter)return p}for(g=0;g<a.columns;g++)n.filter=n.filters[g],n.index=g,o.excludeMatch=o.excludeFilter[g],n.filter&&(n.cache=n.cacheArray[g],s=n.parsed[g]?n.cache:n.rawArray[g]||"",n.exact=a.sortLocaleCompare?i.replaceAccents(s):s,n.iExact=!r.type.test(typeof n.exact)&&f.filter_ignoreCase?n.exact.toLowerCase():n.exact,n.isMatch=t.matchType(a,g),s=p,c=f.filter_columnFilters&&a.$filters.add(f.filter_$externalFilters).filter('[data-column="'+g+'"]').find("select option:selected").attr("data-function-name")||"",a.sortLocaleCompare&&(n.filter=i.replaceAccents(n.filter)),f.filter_defaultFilter&&r.iQuery.test(o.defaultColFilter[g])&&(n.filter=t.defaultFilter(n.filter,o.defaultColFilter[g])),n.iFilter=f.filter_ignoreCase?(n.filter||"").toLowerCase():n.filter,l=null,(d=o.functions[g])&&("function"==typeof d?l=d(n.exact,n.cache,n.filter,g,n.$row,a,n):"function"==typeof d[c||n.filter]&&(l=d[u=c||n.filter](n.exact,n.cache,n.filter,g,n.$row,a,n))),null===l?(l=t.processTypes(a,n,o),u=!0===d&&("and"===n.matchedOn||"or"===n.matchedOn),null===l||u?!0===d?s=n.isMatch?(""+n.iExact).search(n.iFilter)>=0:n.filter===n.exact:(u=(n.iExact+n.childRowText).indexOf(t.parseFilter(a,n.iFilter,n)),s=!f.filter_startsWith&&u>=0||f.filter_startsWith&&0===u):s=l):s=l,p=!!s&&p);return p},findRows:function(a,n,o){if(!t.equalFilters(a.config,a.config.lastSearch,o)&&a.config.widgetOptions.filter_initialized){var s,l,d,c,u,f,p,h,g,m,v,b,y,_,w,x,C,k,F,S,z,T,I,E=e.extend([],n),$=a.config,R=$.widgetOptions,A=i.debug($,"filter"),D={anyMatch:!1,filters:n,filter_regexCache:[]},O={noAnyMatch:["range","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:i.getColumnData(a,R.filter_defaultFilter,$.columns,!0)||""};for(D.parsed=[],g=0;g<$.columns;g++)D.parsed[g]=R.filter_useParsedData||$.parsers&&$.parsers[g]&&$.parsers[g].parsed||i.getData&&"parsed"===i.getData($.$headerIndexed[g],i.getColumnData(a,$.headers,g),"filter")||$.$headerIndexed[g].hasClass("filter-parsed"),O.functions[g]=i.getColumnData(a,R.filter_functions,g)||$.$headerIndexed[g].hasClass("filter-select"),O.defaultColFilter[g]=i.getColumnData(a,R.filter_defaultFilter,g)||"",O.excludeFilter[g]=(i.getColumnData(a,R.filter_excludeFilter,g,!0)||"").split(/\s+/);for(A&&(console.log("Filter >> Starting filter widget search",n),_=new Date),$.filteredRows=0,$.totalRows=0,o=E||[],p=0;p<$.$tbodies.length;p++){if(h=i.processTbody(a,$.$tbodies.eq(p),!0),g=$.columns,l=$.cache[p].normalized,c=e(e.map(l,(function(e){return e[g].$row.get()}))),""===o.join("")||R.filter_serversideFiltering)c.removeClass(R.filter_filteredRow).not("."+$.cssChildRow).css("display","");else{if(s=(c=c.not("."+$.cssChildRow)).length,(R.filter_$anyMatch&&R.filter_$anyMatch.length||void 0!==n[$.columns])&&(D.anyMatchFlag=!0,D.anyMatchFilter=""+(n[$.columns]||R.filter_$anyMatch&&t.getLatestSearch(R.filter_$anyMatch).val()||""),R.filter_columnAnyMatch)){for(F=D.anyMatchFilter.split(r.andSplit),S=!1,x=0;x<F.length;x++)(z=F[x].split(":")).length>1&&(isNaN(z[0])?e.each($.headerContent,(function(e,t){t.toLowerCase().indexOf(z[0])>-1&&(n[T=e]=z[1])})):T=parseInt(z[0],10)-1,T>=0&&T<$.columns&&(n[T]=z[1],F.splice(x,1),x--,S=!0));S&&(D.anyMatchFilter=F.join(" && "))}if(k=R.filter_searchFiltered,v=$.lastSearch||$.$table.data("lastSearch")||[],k)for(x=0;x<g+1;x++)w=n[x]||"",k||(x=g),k=k&&v.length&&0===w.indexOf(v[x]||"")&&!r.alreadyFiltered.test(w)&&!r.exactTest.test(w)&&!(r.isNeg1.test(w)||r.isNeg2.test(w))&&!(""!==w&&$.$filters&&$.$filters.filter('[data-column="'+x+'"]').find("select").length&&!t.matchType($,x));for(C=c.not("."+R.filter_filteredRow).length,k&&0===C&&(k=!1),A&&console.log("Filter >> Searching through "+(k&&C<s?C:"all")+" rows"),D.anyMatchFlag&&($.sortLocaleCompare&&(D.anyMatchFilter=i.replaceAccents(D.anyMatchFilter)),R.filter_defaultFilter&&r.iQuery.test(O.defaultAnyFilter)&&(D.anyMatchFilter=t.defaultFilter(D.anyMatchFilter,O.defaultAnyFilter),k=!1),D.iAnyMatchFilter=R.filter_ignoreCase&&$.ignoreCase?D.anyMatchFilter.toLowerCase():D.anyMatchFilter),f=0;f<s;f++)if(I=c[f].className,!(f&&r.child.test(I)||k&&r.filtered.test(I))){if(D.$row=c.eq(f),D.rowIndex=f,D.cacheArray=l[f],d=D.cacheArray[$.columns],D.rawArray=d.raw,D.childRowText="",!R.filter_childByColumn){for(I="",m=d.child,x=0;x<m.length;x++)I+=" "+m[x].join(" ")||!1;D.childRowText=R.filter_childRows?R.filter_ignoreCase?I.toLowerCase():I:""}if(b=!1,y=t.processRow($,D,O),u=d.$row,w=!!y,m=d.$row.filter(":gt(0)"),R.filter_childRows&&m.length){if(R.filter_childByColumn)for(R.filter_childWithSibs||(m.addClass(R.filter_filteredRow),u=u.eq(0)),x=0;x<m.length;x++)D.$row=m.eq(x),D.cacheArray=d.child[x],D.rawArray=D.cacheArray,w=t.processRow($,D,O),b=b||w,!R.filter_childWithSibs&&w&&m.eq(x).removeClass(R.filter_filteredRow);b=b||y}else b=w;u.toggleClass(R.filter_filteredRow,!b)[0].display=b?"":"none"}}$.filteredRows+=c.not("."+R.filter_filteredRow).length,$.totalRows+=c.length,i.processTbody(a,h,!1)}$.lastCombinedFilter=E.join(""),$.lastSearch=E,$.$table.data("lastSearch",E),R.filter_saveFilters&&i.storage&&i.storage(a,"tablesorter-filters",t.processFilters(E,!0)),A&&console.log("Filter >> Completed search"+i.benchmark(_)),R.filter_initialized&&($.$table.triggerHandler("filterBeforeEnd",$),$.$table.triggerHandler("filterEnd",$)),setTimeout((function(){i.applyWidget($.table)}),0)}},getOptionSource:function(r,a,n){var o=(r=e(r)[0]).config,s=!1,l=o.widgetOptions.filter_selectSource,d=o.$table.data("lastSearch")||[],c="function"==typeof l||i.getColumnData(r,l,a);if(n&&""!==d[a]&&(n=!1),!0===c)s=l(r,a,n);else{if(c instanceof e||"string"===e.type(c)&&c.indexOf("</option>")>=0)return c;if(e.isArray(c))s=c;else if("object"===e.type(l)&&c&&null===(s=c(r,a,n)))return null}return!1===s&&(s=t.getOptions(r,a,n)),t.processOptions(r,a,s)},processOptions:function(t,r,a){if(!e.isArray(a))return!1;var n,o,s,l,d,c,u=(t=e(t)[0]).config,f=null!=r&&r>=0&&r<u.columns,p=!!f&&u.$headerIndexed[r].hasClass("filter-select-sort-desc"),h=[];if(a=e.grep(a,(function(t,r){return!!t.text||e.inArray(t,a)===r})),f&&u.$headerIndexed[r].hasClass("filter-select-nosort"))return a;for(l=a.length,s=0;s<l;s++)c=(o=a[s]).text?o.text:o,d=(f&&u.parsers&&u.parsers.length&&u.parsers[r].format(c,t,[],r)||c).toString(),d=u.widgetOptions.filter_ignoreCase?d.toLowerCase():d,o.text?(o.parsed=d,h[h.length]=o):h[h.length]={text:o,parsed:d};for(n=u.textSorter||"",h.sort((function(e,a){var o=p?a.parsed:e.parsed,s=p?e.parsed:a.parsed;return f&&"function"==typeof n?n(o,s,!0,r,t):f&&"object"==typeof n&&n.hasOwnProperty(r)?n[r](o,s,!0,r,t):!i.sortNatural||i.sortNatural(o,s)})),a=[],l=h.length,s=0;s<l;s++)a[a.length]=h[s];return a},getOptions:function(t,r,a){var n,o,s,l,d,c,u,f,p=(t=e(t)[0]).config,h=p.widgetOptions,g=[];for(o=0;o<p.$tbodies.length;o++)for(d=p.cache[o],s=p.cache[o].normalized.length,n=0;n<s;n++)if(l=d.row?d.row[n]:d.normalized[n][p.columns].$row[0],!a||!l.className.match(h.filter_filteredRow))if(h.filter_useParsedData||p.parsers[r].parsed||p.$headerIndexed[r].hasClass("filter-parsed")){if(g[g.length]=""+d.normalized[n][r],h.filter_childRows&&h.filter_childByColumn)for(f=d.normalized[n][p.columns].$row.length-1,c=0;c<f;c++)g[g.length]=""+d.normalized[n][p.columns].child[c][r]}else if(g[g.length]=d.normalized[n][p.columns].raw[r],h.filter_childRows&&h.filter_childByColumn)for(f=d.normalized[n][p.columns].$row.length,c=1;c<f;c++)u=d.normalized[n][p.columns].$row.eq(c).children().eq(r),g[g.length]=""+i.getElementText(p,u,r);return g},buildSelect:function(i,n,o,s,l){if(i=e(i)[0],n=parseInt(n,10),i.config.cache&&!e.isEmptyObject(i.config.cache)){var d,c,u,f,p,h,g,m=i.config,v=m.widgetOptions,b=m.$headerIndexed[n],y='<option value="">'+(b.data("placeholder")||b.attr("data-placeholder")||v.filter_placeholder.select||"")+"</option>",_=m.$table.find("thead").find("select."+a.filter+'[data-column="'+n+'"]').val();if(void 0!==o&&""!==o||null!==(o=t.getOptionSource(i,n,l))){if(e.isArray(o)){for(d=0;d<o.length;d++)if((g=o[d]).text){for(c in g["data-function-name"]=void 0===g.value?g.text:g.value,y+="<option",g)g.hasOwnProperty(c)&&"text"!==c&&(y+=" "+c+'="'+g[c].replace(r.quote,"&quot;")+'"');g.value||(y+=' value="'+g.text.replace(r.quote,"&quot;")+'"'),y+=">"+g.text.replace(r.quote,"&quot;")+"</option>"}else""+g!="[object Object]"&&(c=u=g=(""+g).replace(r.quote,"&quot;"),u.indexOf(v.filter_selectSourceSeparator)>=0&&(c=(f=u.split(v.filter_selectSourceSeparator))[0],u=f[1]),y+=""!==g?"<option "+(c===u?"":'data-function-name="'+g+'" ')+'value="'+c+'">'+u+"</option>":"");o=[]}p=(m.$filters?m.$filters:m.$table.children("thead")).find("."+a.filter),v.filter_$externalFilters&&(p=p&&p.length?p.add(v.filter_$externalFilters):v.filter_$externalFilters),(h=p.filter('select[data-column="'+n+'"]')).length&&(h[s?"html":"append"](y),e.isArray(o)||h.append(o).val(_),h.val(_))}}},buildDefault:function(e,r){var a,n,o,s=e.config,l=s.widgetOptions,d=s.columns;for(a=0;a<d;a++)o=!((n=s.$headerIndexed[a]).hasClass("filter-false")||n.hasClass("parser-false")),(n.hasClass("filter-select")||!0===i.getColumnData(e,l.filter_functions,a))&&o&&t.buildSelect(e,a,"",r,n.hasClass(l.filter_onlyAvail))}},r=t.regex,i.getFilters=function(r,i,n,o){var s,l,d,c,u=[],f=r?e(r)[0].config:"",p=f?f.widgetOptions:"";if(!0!==i&&p&&!p.filter_columnFilters||e.isArray(n)&&t.equalFilters(f,n,f.lastSearch))return e(r).data("lastSearch")||[];if(f&&(f.$filters&&(l=f.$filters.find("."+a.filter)),p.filter_$externalFilters&&(l=l&&l.length?l.add(p.filter_$externalFilters):p.filter_$externalFilters),l&&l.length))for(u=n||[],s=0;s<f.columns+1;s++)c=s===f.columns?p.filter_anyColumnSelector+","+p.filter_multipleColumnSelector:'[data-column="'+s+'"]',(d=l.filter(c)).length&&(d=t.getLatestSearch(d),e.isArray(n)?(o&&d.length>1&&(d=d.slice(1)),s===f.columns&&(c=d.filter(p.filter_anyColumnSelector),d=c.length?c:d),d.val(n[s]).trigger("change"+f.namespace)):(u[s]=d.val()||"",s===f.columns?d.slice(1).filter('[data-column*="'+d.attr("data-column")+'"]').val(u[s]):d.slice(1).val(u[s])),s===f.columns&&d.length&&(p.filter_$anyMatch=d));return u},i.setFilters=function(r,a,n,o){var s=r?e(r)[0].config:"",l=i.getFilters(r,!0,a,o);return void 0===n&&(n=!0),s&&n&&(s.lastCombinedFilter=null,s.lastSearch=[],t.searching(s.table,a,o),s.$table.triggerHandler("filterFomatterUpdate")),0!==l.length}}(e),function(e,t){"use strict";var r=e.tablesorter||{};function i(t,r){var i=isNaN(r.stickyHeaders_offset)?e(r.stickyHeaders_offset):[];return i.length?i.height()||0:parseInt(r.stickyHeaders_offset,10)||0}e.extend(r.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"}),r.addHeaderResizeEvent=function(t,r,i){if((t=e(t)[0]).config){var a=e.extend({},{timer:250},i),n=t.config,o=n.widgetOptions,s=function(e){var t,r,i,a,s,l,d=n.$headers.length;for(o.resize_flag=!0,r=[],t=0;t<d;t++)a=(i=n.$headers.eq(t)).data("savedSizes")||[0,0],s=i[0].offsetWidth,l=i[0].offsetHeight,s===a[0]&&l===a[1]||(i.data("savedSizes",[s,l]),r.push(i[0]));r.length&&!1!==e&&n.$table.triggerHandler("resize",[r]),o.resize_flag=!1};if(clearInterval(o.resize_timer),r)return o.resize_flag=!1,!1;s(!1),o.resize_timer=setInterval((function(){o.resize_flag||s()}),a.timer)}},r.addWidget({id:"stickyHeaders",priority:54,options:{stickyHeaders:"",stickyHeaders_appendTo:null,stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(a,n,o){if(!(n.$table.hasClass("hasStickyHeaders")||e.inArray("filter",n.widgets)>=0&&!n.$table.hasClass("hasFilters"))){var s,l,d,c,u=n.$table,f=e(o.stickyHeaders_attachTo||o.stickyHeaders_appendTo),p=n.namespace+"stickyheaders ",h=e(o.stickyHeaders_yScroll||o.stickyHeaders_attachTo||t),g=e(o.stickyHeaders_xScroll||o.stickyHeaders_attachTo||t),m=u.children("thead:first").children("tr").not(".sticky-false").children(),v=u.children("tfoot"),b=i(0,o),y=u.parent().closest("."+r.css.table).hasClass("hasStickyHeaders")?u.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],_=y.length?y.height():0,w=o.$sticky=u.clone().addClass("containsStickyHeaders "+r.css.sticky+" "+o.stickyHeaders+" "+n.namespace.slice(1)+"_extra_table").wrap('<div class="'+r.css.stickyWrap+'">'),x=w.parent().addClass(r.css.stickyHide).css({position:f.length?"absolute":"fixed",padding:parseInt(w.parent().parent().css("padding-left"),10),top:b+_,left:0,visibility:"hidden",zIndex:o.stickyHeaders_zIndex||2}),C=w.children("thead:first"),k="",F=function(e,r){var i,a,n,o,s,l=e.filter(":visible"),d=l.length;for(i=0;i<d;i++)o=r.filter(":visible").eq(i),"border-box"===(s=l.eq(i)).css("box-sizing")?a=s.outerWidth():"collapse"===o.css("border-collapse")?t.getComputedStyle?a=parseFloat(t.getComputedStyle(s[0],null).width):(n=parseFloat(s.css("border-width")),a=s.outerWidth()-parseFloat(s.css("padding-left"))-parseFloat(s.css("padding-right"))-n):a=s.width(),o.css({width:a,"min-width":a,"max-width":a})},S=function(r){return!1===r&&y.length?u.position().left:f.length?parseInt(f.css("padding-left"),10)||0:u.offset().left-parseInt(u.css("margin-left"),10)-e(t).scrollLeft()},z=function(){x.css({left:S(),width:u.outerWidth()}),F(u,w),F(m,c)},T=function(t){if(u.is(":visible")){_=y.length?y.offset().top-h.scrollTop()+y.height():0;var a,n=u.offset(),s=i(0,o),l=e.isWindow(h[0]),d=l?h.scrollTop():y.length?parseInt(y[0].style.top,10):h.offset().top,c=f.length?d:h.scrollTop(),p=o.stickyHeaders_includeCaption?0:u.children("caption").height()||0,g=c+s+_-p,m=u.height()-(x.height()+(v.height()||0))-p,b=g>n.top&&g<n.top+m?"visible":"hidden",w="visible"===b?r.css.stickyVis:r.css.stickyHide,C=!x.hasClass(w),F={visibility:b};f.length&&(C=!0,F.top=l?g-f.offset().top:f.scrollTop()),(a=S(l))!==parseInt(x.css("left"),10)&&(C=!0,F.left=a),F.top=(F.top||0)+(!l&&y.length?y.height():s+_),C&&x.removeClass(r.css.stickyVis+" "+r.css.stickyHide).addClass(w).css(F),(b!==k||t)&&(z(),k=b)}};if(f.length&&!f.css("position")&&f.css("position","relative"),w.attr("id")&&(w[0].id+=o.stickyHeaders_cloneId),w.find("> thead:gt(0), tr.sticky-false").hide(),w.find("> tbody, > tfoot").remove(),w.find("caption").toggle(o.stickyHeaders_includeCaption),c=C.children().children(),w.css({height:0,width:0,margin:0}),c.find("."+r.css.resizer).remove(),u.addClass("hasStickyHeaders").bind("pagerComplete"+p,(function(){z()})),r.bindEvents(a,C.children().children("."+r.css.header)),o.stickyHeaders_appendTo?e(o.stickyHeaders_appendTo).append(x):u.after(x),n.onRenderHeader)for(l=(d=C.children("tr").children()).length,s=0;s<l;s++)n.onRenderHeader.apply(d.eq(s),[s,n,w]);g.add(h).unbind("scroll resize ".split(" ").join(p).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(p),(function(e){T("resize"===e.type)})),n.$table.unbind("stickyHeadersUpdate"+p).bind("stickyHeadersUpdate"+p,(function(){T(!0)})),o.stickyHeaders_addResizeEvent&&r.addHeaderResizeEvent(a),u.hasClass("hasFilters")&&o.filter_columnFilters&&(u.bind("filterEnd"+p,(function(){var i=e(document.activeElement).closest("td"),a=i.parent().children().index(i);x.hasClass(r.css.stickyVis)&&o.stickyHeaders_filteredToTop&&(t.scrollTo(0,u.position().top),a>=0&&n.$filters&&n.$filters.eq(a).find("a, select, input").filter(":visible").focus())})),r.filter.bindSearch(u,c.find("."+r.css.filter)),o.filter_hideFilters&&r.filter.hideFilters(n,w)),o.stickyHeaders_addResizeEvent&&u.bind("resize"+n.namespace+"stickyheaders",(function(){z()})),T(!0),u.triggerHandler("stickyHeadersInit")}},remove:function(i,a,n){var o=a.namespace+"stickyheaders ";a.$table.removeClass("hasStickyHeaders").unbind("pagerComplete resize filterEnd stickyHeadersUpdate ".split(" ").join(o).replace(/\s+/g," ")).next("."+r.css.stickyWrap).remove(),n.$sticky&&n.$sticky.length&&n.$sticky.remove(),e(t).add(n.stickyHeaders_xScroll).add(n.stickyHeaders_yScroll).add(n.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(o).replace(/\s+/g," ")),r.addHeaderResizeEvent(i,!0)}})}(e,window),function(e,t){"use strict";var r=e.tablesorter||{};e.extend(r.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"}),e((function(){var t="<style>body."+r.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;-khtml-user-select: none; -webkit-user-select: none; user-select: none; }."+r.css.resizableContainer+" { position: relative; height: 1px; }."+r.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px;top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }</style>";e("head").append(t)})),r.resizable={init:function(t,i){if(!t.$table.hasClass("hasResizable")){t.$table.addClass("hasResizable");var a,n,o,s,l=t.$table,d=l.parent(),c=parseInt(l.css("margin-top"),10),u=i.resizable_vars={useStorage:r.storage&&!1!==i.resizable,$wrap:d,mouseXPosition:0,$target:null,$next:null,overflow:"auto"===d.css("overflow")||"scroll"===d.css("overflow")||"auto"===d.css("overflow-x")||"scroll"===d.css("overflow-x"),storedSizes:[]};for(r.resizableReset(t.table,!0),u.tableWidth=l.width(),u.fullWidth=Math.abs(d.width()-u.tableWidth)<20,u.useStorage&&u.overflow&&(r.storage(t.table,"tablesorter-table-original-css-width",u.tableWidth),s=r.storage(t.table,"tablesorter-table-resized-width")||"auto",r.resizable.setWidth(l,s,!0)),i.resizable_vars.storedSizes=o=(u.useStorage?r.storage(t.table,r.css.resizableStorage):[])||[],r.resizable.setWidths(t,i,o),r.resizable.updateStoredSizes(t,i),i.$resizable_container=e('<div class="'+r.css.resizableContainer+'">').css({top:c}).insertBefore(l),n=0;n<t.columns;n++)a=t.$headerIndexed[n],s=r.getColumnData(t.table,t.headers,n),"false"===r.getData(a,s,"resizable")||e('<div class="'+r.css.resizableHandle+'">').appendTo(i.$resizable_container).attr({"data-column":n,unselectable:"on"}).data("header",a).bind("selectstart",!1);r.resizable.bindings(t,i)}},updateStoredSizes:function(e,t){var r,i,a=e.columns,n=t.resizable_vars;for(n.storedSizes=[],r=0;r<a;r++)i=e.$headerIndexed[r],n.storedSizes[r]=i.is(":visible")?i.width():0},setWidth:function(e,t,r){e.css({width:t,"min-width":r?t:"","max-width":r?t:""})},setWidths:function(t,i,a){var n,o,s=i.resizable_vars,l=e(t.namespace+"_extra_headers"),d=t.$table.children("colgroup").children("col");if((a=a||s.storedSizes||[]).length){for(n=0;n<t.columns;n++)r.resizable.setWidth(t.$headerIndexed[n],a[n],s.overflow),l.length&&(o=l.eq(n).add(d.eq(n)),r.resizable.setWidth(o,a[n],s.overflow));(o=e(t.namespace+"_extra_table")).length&&!r.hasWidget(t.table,"scroller")&&r.resizable.setWidth(o,t.$table.outerWidth(),s.overflow)}},setHandlePosition:function(t,i){var a,n=t.$table.height(),o=i.$resizable_container.children(),s=Math.floor(o.width()/2);r.hasWidget(t.table,"scroller")&&(n=0,t.$table.closest("."+r.css.scrollerWrap).children().each((function(){var t=e(this);n+=t.filter('[style*="height"]').length?t.height():t.children("table").height()}))),!i.resizable_includeFooter&&t.$table.children("tfoot").length&&(n-=t.$table.children("tfoot").height()),a=parseFloat(e.fn.jquery)>=3.3?0:t.$table.position().left,o.each((function(){var o=e(this),l=parseInt(o.attr("data-column"),10),d=t.columns-1,c=o.data("header");c&&(!c.is(":visible")||!i.resizable_addLastColumn&&r.resizable.checkVisibleColumns(t,l)?o.hide():(l<d||l===d&&i.resizable_addLastColumn)&&o.css({display:"inline-block",height:n,left:c.position().left-a+c.outerWidth()-s}))}))},checkVisibleColumns:function(e,t){var r,i=0;for(r=t+1;r<e.columns;r++)i+=e.$headerIndexed[r].is(":visible")?1:0;return 0===i},toggleTextSelection:function(t,i,a){var n=t.namespace+"tsresize";i.resizable_vars.disabled=a,e("body").toggleClass(r.css.resizableNoSelect,a),a?e("body").attr("unselectable","on").bind("selectstart"+n,!1):e("body").removeAttr("unselectable").unbind("selectstart"+n)},bindings:function(i,a){var n=i.namespace+"tsresize";a.$resizable_container.children().bind("mousedown",(function(t){var n,o=a.resizable_vars,s=e(i.namespace+"_extra_headers"),l=e(t.target).data("header");n=parseInt(l.attr("data-column"),10),o.$target=l=l.add(s.filter('[data-column="'+n+'"]')),o.target=n,o.$next=t.shiftKey||a.resizable_targetLast?l.parent().children().not(".resizable-false").filter(":last"):l.nextAll(":not(.resizable-false)").eq(0),n=parseInt(o.$next.attr("data-column"),10),o.$next=o.$next.add(s.filter('[data-column="'+n+'"]')),o.next=n,o.mouseXPosition=t.pageX,r.resizable.updateStoredSizes(i,a),r.resizable.toggleTextSelection(i,a,!0)})),e(document).bind("mousemove"+n,(function(e){var t=a.resizable_vars;t.disabled&&0!==t.mouseXPosition&&t.$target&&(a.resizable_throttle?(clearTimeout(t.timer),t.timer=setTimeout((function(){r.resizable.mouseMove(i,a,e)}),isNaN(a.resizable_throttle)?5:a.resizable_throttle)):r.resizable.mouseMove(i,a,e))})).bind("mouseup"+n,(function(){a.resizable_vars.disabled&&(r.resizable.toggleTextSelection(i,a,!1),r.resizable.stopResize(i,a),r.resizable.setHandlePosition(i,a))})),e(t).bind("resize"+n+" resizeEnd"+n,(function(){r.resizable.setHandlePosition(i,a)})),i.$table.bind("columnUpdate pagerComplete resizableUpdate ".split(" ").join(n+" "),(function(){r.resizable.setHandlePosition(i,a)})).bind("resizableReset"+n,(function(){r.resizableReset(i.table)})).find("thead:first").add(e(i.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+n,(function(){var e=0===a.resizable_vars.storedSizes.length;return r.resizableReset(i.table),r.resizable.setHandlePosition(i,a),a.resizable_vars.storedSizes=[],e}))},mouseMove:function(t,i,a){if(0!==i.resizable_vars.mouseXPosition&&i.resizable_vars.$target){var n,o=0,s=i.resizable_vars,l=s.$next,d=s.storedSizes[s.target],c=a.pageX-s.mouseXPosition;if(s.overflow){if(d+c>0){for(s.storedSizes[s.target]+=c,r.resizable.setWidth(s.$target,s.storedSizes[s.target],!0),n=0;n<t.columns;n++)o+=s.storedSizes[n];r.resizable.setWidth(t.$table.add(e(t.namespace+"_extra_table")),o)}l.length||(s.$wrap[0].scrollLeft=t.$table.width())}else s.fullWidth?(s.storedSizes[s.target]+=c,s.storedSizes[s.next]-=c,r.resizable.setWidths(t,i)):(s.storedSizes[s.target]+=c,r.resizable.setWidths(t,i));s.mouseXPosition=a.pageX,t.$table.triggerHandler("stickyHeadersUpdate")}},stopResize:function(e,t){var i=t.resizable_vars;r.resizable.updateStoredSizes(e,t),i.useStorage&&(r.storage(e.table,r.css.resizableStorage,i.storedSizes),r.storage(e.table,"tablesorter-table-resized-width",e.$table.width())),i.mouseXPosition=0,i.$target=i.$next=null,e.$table.triggerHandler("stickyHeadersUpdate"),e.$table.triggerHandler("resizableComplete")}},r.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_includeFooter:!0,resizable_widths:[],resizable_throttle:!1,resizable_targetLast:!1},init:function(e,t,i,a){r.resizable.init(i,a)},format:function(e,t,i){r.resizable.setHandlePosition(t,i)},remove:function(t,i,a,n){if(a.$resizable_container){var o=i.namespace+"tsresize";i.$table.add(e(i.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+o),a.$resizable_container.remove(),r.resizable.toggleTextSelection(i,a,!1),r.resizableReset(t,n),e(document).unbind("mousemove"+o+" mouseup"+o)}}}),r.resizableReset=function(t,i){e(t).each((function(){var e,a,n=this.config,o=n&&n.widgetOptions,s=o.resizable_vars;if(t&&n&&n.$headerIndexed.length){for(s.overflow&&s.tableWidth&&(r.resizable.setWidth(n.$table,s.tableWidth,!0),s.useStorage&&r.storage(t,"tablesorter-table-resized-width",s.tableWidth)),e=0;e<n.columns;e++)a=n.$headerIndexed[e],o.resizable_widths&&o.resizable_widths[e]?r.resizable.setWidth(a,o.resizable_widths[e],s.overflow):a.hasClass("resizable-false")||r.resizable.setWidth(a,"",s.overflow);n.$table.triggerHandler("stickyHeadersUpdate"),r.storage&&!i&&r.storage(this,r.css.resizableStorage,[])}}))}}(e,window),function(e){"use strict";var t=e.tablesorter||{};function r(r){var i=t.storage(r.table,"tablesorter-savesort");return i&&i.hasOwnProperty("sortList")&&e.isArray(i.sortList)?i.sortList:[]}function i(e,t){return(t||r(e)).join(",")!==e.sortList.join(",")}t.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(e,t,r,i){t.format(e,r,i,!0)},format:function(e,a,n,o){var s,l=a.$table,d=!1!==n.saveSort,c={sortList:a.sortList},u=t.debug(a,"saveSort");u&&(s=new Date),l.hasClass("hasSaveSort")?d&&e.hasInitialized&&t.storage&&i(a)&&(t.storage(e,"tablesorter-savesort",c),u&&console.log("saveSort >> Saving last sort: "+a.sortList+t.benchmark(s))):(l.addClass("hasSaveSort"),c="",t.storage&&(c=r(a),u&&console.log('saveSort >> Last sort loaded: "'+c+'"'+t.benchmark(s)),l.bind("saveSortReset",(function(r){r.stopPropagation(),t.storage(e,"tablesorter-savesort","")}))),o&&c&&c.length>0?a.sortList=c:e.hasInitialized&&c&&c.length>0&&i(a,c)&&t.sortOn(a,c))},remove:function(e,r){r.$table.removeClass("hasSaveSort"),t.storage&&t.storage(e,"tablesorter-savesort","")}})}(e),e.tablesorter})?i.apply(t,a):i)||(e.exports=n)},505:function(e,t,r){var i,a,n;a=[r(0)],void 0===(n="function"==typeof(i=function(e){return function(e){"use strict";var t={"Y|Yotta|yotta":[1e24,Math.pow(1024,8)],"Z|Zetta|zetta":[1e21,Math.pow(1024,7)],"E|Exa|exa":[1e18,Math.pow(1024,6)],"P|Peta|peta":[1e15,Math.pow(1024,5)],"T|Tera|tera":[1e12,Math.pow(1024,4)],"G|Giga|giga":[1e9,Math.pow(1024,3)],"M|Mega|mega":[1e6,Math.pow(1024,2)],"k|Kilo|kilo":[1e3,1024],"h|hecto":[100,100],"da|deka":[10,10],"d|deci":[.1,.1],"c|centi":[.01,.01],"m|milli":[.001,.001],"µ|micro":[1e-6,1e-6],"n|nano":[1e-9,1e-9],"p|pico":[1e-12,1e-12],"f|femto":[1e-15,1e-15],"a|atto":[1e-18,1e-18],"z|zepto":[1e-21,1e-21],"y|yocto":[1e-24,1e-24]},r=/^[b|bit|byte|o|octet]/i;e.tablesorter.addParser({id:"metric",is:function(){return!1},format:function(i,a,n,o){var s,l,d,c,u="m|meter",f=e.tablesorter.formatFloat(i.replace(/[^\w,. \-()]/g,""),a),p=a.config.$headerIndexed[o],h=p.data("metric");if(h||(s=(p.attr("data-metric-name")||u).split("|"),d=p.attr("data-metric-name-full")||"",c=p.attr("data-metric-name-abbr")||"",h=[d||s[1]||s[0].substring(1),c||s[0]],l=r.test(h.join("")),h[2]=new RegExp("(\\d+)(\\s+)?([Zz]etta|[Ee]xa|[Pp]eta|[Tt]era|[Gg]iga|[Mm]ega|kilo|hecto|deka|deci|centi|milli|micro|nano|pico|femto|atto|zepto|yocto)("+((""===d?"":d+"|"+c)||(l?h[0].toLowerCase()+"|"+h[0].toUpperCase():h[0])+"|"+(l?h[1].toLowerCase()+"|"+h[1].toUpperCase():h[1]))+")"),h[3]=new RegExp("(\\d+)(\\s+)?(Z|E|P|T|G|M|k|h|da|d|c|m|µ|n|p|f|a|z|y)("+(c||(l?h[1].toLowerCase()+"|"+h[1].toUpperCase():h[1]))+")"),p.data("metric",h)),s=i.match(h[2])||i.match(h[3]))for(u in t)if(s[3].match(u))return l=r.test(s[4])?1:0,f*t[u][l];return f},type:"numeric"})}(e),e})?i.apply(t,a):i)||(e.exports=n)},6:function(e,t,r){"use strict";var i,a;r(5),r(9),i=[r(97)],void 0===(a=function(e){return function(t,r){var i=e[t],a=i;return i?a=a.replace(/([<])([^:^>]*:)?([^>]+)([>])/g,(function(e,t,i,a){return a in r?r[a]:e})):i}}.apply(t,i))||(e.exports=a)},87:function(e,t,r){"use strict";r(4),r(12),r(90),Object.defineProperty(t,"__esModule",{value:!0}),t.setPGCSRFToken=function(e,t){if(!t)throw"csrf-token meta tag has not been set";var r=a.default.sync;a.default.sync=function(i,a,n){return n.beforeSend=function(r){r.setRequestHeader(e,t)},r(i,a,n)};var o=a.default.get;a.default.get=function(r,i,a){return a.beforeSend=function(r){r.setRequestHeader(e,t)},o(r,i,a)},i.default.ajaxSetup({beforeSend:function(r){r.setRequestHeader(e,t)}}),n.default.interceptors.request.use((function(r){return r.headers[e]=t,r}),(function(e){return Promise.reject(e)}))};var i=o(r(0)),a=o(r(15)),n=o(r(65));function o(e){return e&&e.__esModule?e:{default:e}}},96:function(t,r){t.exports=e},97:function(e,r){e.exports=t}}).default}));
//# sourceMappingURL=file_utils.js.map